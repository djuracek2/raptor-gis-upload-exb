define(["require","exports","./index2-5ec30cf6","esri/rest/support/JobInfo","esri/rest/geoprocessor","esri/request","esri/rest/support/ParameterValue","esri/core/urlUtils","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/identity/IdentityManager","esri/core/reactiveUtils","esri/rest/support/Query","esri/core/promiseUtils","esri/portal/PortalItemResource","esri/layers/FeatureLayer","esri/geometry/support/jsonUtils","esri/layers/Layer","esri/portal/PortalItem","esri/renderers/SimpleRenderer","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/LineSymbolMarker","esri/Color","esri/layers/support/MosaicRule","esri/layers/support/Field","esri/renderers/Renderer","esri/rest/support/FeatureSet","esri/config","esri/layers/MapNotesLayer","esri/core/lang","esri/layers/ImageryLayer","esri/smartMapping/raster/renderers/stretch","esri/layers/support/RasterFunction","esri/rest/support/AlgorithmicColorRamp","esri/rest/support/MultipartColorRamp","esri/smartMapping/statistics/uniqueValues","esri/core/sql","./store-c935607a","./analysis-tool-credits-popover2-0b64df2b"],(function(e,t,r,n,o,i,a,s,c,l,u,f,d,h,p,g,m,y,b,v,w,_,j,$,S,P,O,k,M,E,A,C,T,x,R,I,F,N,D,U,z,L){"use strict";function B(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var J=B(n),G=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}(o),q=B(i),V=B(a),W=B(f),K=B(m),Y=B(v),H=B(k),Q=B(M),Z=B(E),X=B(A),ee="object"==typeof global&&global&&global.Object===Object&&global,te="object"==typeof self&&self&&self.Object===Object&&self,re=ee||te||Function("return this")(),ne=re.Symbol,oe=Object.prototype,ie=oe.hasOwnProperty,ae=oe.toString,se=ne?ne.toStringTag:void 0,ce=Object.prototype.toString,le="[object Null]",ue="[object Undefined]",fe=ne?ne.toStringTag:void 0;function de(e){return null==e?void 0===e?ue:le:fe&&fe in Object(e)?function(e){var t=ie.call(e,se),r=e[se];try{e[se]=void 0;var n=!0}catch(e){}var o=ae.call(e);return n&&(t?e[se]=r:delete e[se]),o}(e):function(e){return ce.call(e)}(e)}function he(e){return null!=e&&"object"==typeof e}var pe="[object Symbol]";function ge(e){return"symbol"==typeof e||he(e)&&de(e)==pe}function me(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var ye=Array.isArray,be=1/0,ve=ne?ne.prototype:void 0,we=ve?ve.toString:void 0;function _e(e){if("string"==typeof e)return e;if(ye(e))return me(e,_e)+"";if(ge(e))return we?we.call(e):"";var t=e+"";return"0"==t&&1/e==-be?"-0":t}function je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $e(e){return e}var Se="[object AsyncFunction]",Pe="[object Function]",Oe="[object GeneratorFunction]",ke="[object Proxy]";function Me(e){if(!je(e))return!1;var t=de(e);return t==Pe||t==Oe||t==Se||t==ke}var Ee,Ae=re["__core-js_shared__"],Ce=(Ee=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||""))?"Symbol(src)_1."+Ee:"",Te=Function.prototype.toString;function xe(e){if(null!=e){try{return Te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Re=/^\[object .+?Constructor\]$/,Ie=Function.prototype,Fe=Object.prototype,Ne=Ie.toString,De=Fe.hasOwnProperty,Ue=RegExp("^"+Ne.call(De).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ze(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!je(e)||(t=e,Ce&&Ce in t))&&(Me(e)?Ue:Re).test(xe(e));var t}(r)?r:void 0}var Le=ze(re,"WeakMap"),Be=Object.create,Je=function(){function e(){}return function(t){if(!je(t))return{};if(Be)return Be(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Ge=Je;function qe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Ve=Date.now;function We(e){return function(){return e}}var Ke,Ye,He,Qe=function(){try{var e=ze(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ze=Qe,Xe=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:We(t),writable:!0})}:$e,et=(Ke=Xe,Ye=0,He=0,function(){var e=Ve(),t=16-(e-He);if(He=e,t>0){if(++Ye>=800)return arguments[0]}else Ye=0;return Ke.apply(void 0,arguments)}),tt=et;function rt(e){return e!=e}function nt(e,t){return!(null==e||!e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t):function(e,t,r,n){for(var o=e.length,i=-1;++i<o;)if(t(e[i],i,e))return i;return-1}(e,rt)}(e,t)>-1}var ot=9007199254740991,it=/^(?:0|[1-9]\d*)$/;function at(e,t){var r=typeof e;return!!(t=null==t?ot:t)&&("number"==r||"symbol"!=r&&it.test(e))&&e>-1&&e%1==0&&e<t}function st(e,t,r){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ct(e,t){return e===t||e!=e&&t!=t}var lt=Object.prototype.hasOwnProperty;function ut(e,t,r){var n=e[t];lt.call(e,t)&&ct(n,r)&&(void 0!==r||t in e)||st(e,t,r)}function ft(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),o?st(r,s,c):ut(r,s,c)}return r}var dt=Math.max;function ht(e,t,r){return t=dt(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=dt(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(a),qe(e,this,s)}}function pt(e,t){return tt(ht(e,t,$e),e+"")}var gt=9007199254740991;function mt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=gt}function yt(e){return null!=e&&mt(e.length)&&!Me(e)}function bt(e,t,r){if(!je(r))return!1;var n=typeof t;return!!("number"==n?yt(r)&&at(t,r.length):"string"==n&&t in r)&&ct(r[t],e)}function vt(e){return pt((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&bt(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,i)}return t}))}var wt=Object.prototype;function _t(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||wt)}function jt(e){return he(e)&&"[object Arguments]"==de(e)}var $t=Object.prototype,St=$t.hasOwnProperty,Pt=$t.propertyIsEnumerable,Ot=jt(function(){return arguments}())?jt:function(e){return he(e)&&St.call(e,"callee")&&!Pt.call(e,"callee")},kt=Ot,Mt="object"==typeof t&&t&&!t.nodeType&&t,Et=Mt&&"object"==typeof module&&module&&!module.nodeType&&module,At=Et&&Et.exports===Mt?re.Buffer:void 0,Ct=(At?At.isBuffer:void 0)||function(){return!1},Tt={};function xt(e){return function(t){return e(t)}}Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object Boolean]"]=Tt["[object DataView]"]=Tt["[object Date]"]=Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object WeakMap]"]=!1;var Rt="object"==typeof t&&t&&!t.nodeType&&t,It=Rt&&"object"==typeof module&&module&&!module.nodeType&&module,Ft=It&&It.exports===Rt&&ee.process,Nt=function(){try{return It&&It.require&&It.require("util").types||Ft&&Ft.binding&&Ft.binding("util")}catch(e){}}(),Dt=Nt&&Nt.isTypedArray,Ut=Dt?xt(Dt):function(e){return he(e)&&mt(e.length)&&!!Tt[de(e)]},zt=Ut,Lt=Object.prototype.hasOwnProperty;function Bt(e,t){var r=ye(e),n=!r&&kt(e),o=!r&&!n&&Ct(e),i=!r&&!n&&!o&&zt(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var l in e)!t&&!Lt.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||at(l,c))||s.push(l);return s}function Jt(e,t){return function(r){return e(t(r))}}var Gt=Jt(Object.keys,Object),qt=Object.prototype.hasOwnProperty;function Vt(e){if(!_t(e))return Gt(e);var t=[];for(var r in Object(e))qt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Wt(e){return yt(e)?Bt(e):Vt(e)}var Kt=Object.prototype.hasOwnProperty;vt((function(e,t){if(_t(t)||yt(t))ft(t,Wt(t),e);else for(var r in t)Kt.call(t,r)&&ut(e,r,t[r])}));var Yt=Object.prototype.hasOwnProperty;function Ht(e){return yt(e)?Bt(e,!0):function(e){if(!je(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=_t(e),r=[];for(var n in e)("constructor"!=n||!t&&Yt.call(e,n))&&r.push(n);return r}(e)}var Qt=vt((function(e,t,r,n){ft(t,Ht(t),e,n)})),Zt=Qt,Xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,er=/^\w*$/;function tr(e,t){if(ye(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ge(e))||er.test(e)||!Xt.test(e)||null!=t&&e in Object(t)}var rr=ze(Object,"create"),nr=Object.prototype.hasOwnProperty,or=Object.prototype.hasOwnProperty;function ir(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ar(e,t){for(var r=e.length;r--;)if(ct(e[r][0],t))return r;return-1}ir.prototype.clear=function(){this.__data__=rr?rr(null):{},this.size=0},ir.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ir.prototype.get=function(e){var t=this.__data__;if(rr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return nr.call(t,e)?t[e]:void 0},ir.prototype.has=function(e){var t=this.__data__;return rr?void 0!==t[e]:or.call(t,e)},ir.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rr&&void 0===t?"__lodash_hash_undefined__":t,this};var sr=Array.prototype.splice;function cr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cr.prototype.clear=function(){this.__data__=[],this.size=0},cr.prototype.delete=function(e){var t=this.__data__,r=ar(t,e);return!(r<0||(r==t.length-1?t.pop():sr.call(t,r,1),--this.size,0))},cr.prototype.get=function(e){var t=this.__data__,r=ar(t,e);return r<0?void 0:t[r][1]},cr.prototype.has=function(e){return ar(this.__data__,e)>-1},cr.prototype.set=function(e,t){var r=this.__data__,n=ar(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var lr=ze(re,"Map");function ur(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function fr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fr.prototype.clear=function(){this.size=0,this.__data__={hash:new ir,map:new(lr||cr),string:new ir}},fr.prototype.delete=function(e){var t=ur(this,e).delete(e);return this.size-=t?1:0,t},fr.prototype.get=function(e){return ur(this,e).get(e)},fr.prototype.has=function(e){return ur(this,e).has(e)},fr.prototype.set=function(e,t){var r=ur(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function dr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(dr.Cache||fr),r}dr.Cache=fr;var hr,pr,gr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mr=/\\(\\)?/g,yr=(hr=dr((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gr,(function(e,r,n,o){t.push(n?o.replace(mr,"$1"):r||e)})),t}),(function(e){return 500===pr.size&&pr.clear(),e})),pr=hr.cache,hr);function br(e){return null==e?"":_e(e)}function vr(e,t){return ye(e)?e:tr(e,t)?[e]:yr(br(e))}var wr=1/0;function _r(e){if("string"==typeof e||ge(e))return e;var t=e+"";return"0"==t&&1/e==-wr?"-0":t}function jr(e,t){for(var r=0,n=(t=vr(t,e)).length;null!=e&&r<n;)e=e[_r(t[r++])];return r&&r==n?e:void 0}function $r(e,t,r){var n=null==e?void 0:jr(e,t);return void 0===n?r:n}function Sr(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var Pr=ne?ne.isConcatSpreadable:void 0;function Or(e){return ye(e)||kt(e)||!!(Pr&&e&&e[Pr])}function kr(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=Or),o||(o=[]);++i<a;){var s=e[i];t>0&&r(s)?t>1?kr(s,t-1,r,n,o):Sr(o,s):n||(o[o.length]=s)}return o}function Mr(e){return null!=e&&e.length?kr(e,1):[]}function Er(e){return tt(ht(e,void 0,Mr),e+"")}var Ar=Jt(Object.getPrototypeOf,Object),Cr="[object Object]",Tr=Function.prototype,xr=Object.prototype,Rr=Tr.toString,Ir=xr.hasOwnProperty,Fr=Rr.call(Object);function Nr(e){if(!he(e)||de(e)!=Cr)return!1;var t=Ar(e);if(null===t)return!0;var r=Ir.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Rr.call(r)==Fr}var Dr="[object DOMException]",Ur="[object Error]";function zr(e){if(!he(e))return!1;var t=de(e);return t==Ur||t==Dr||"string"==typeof e.message&&"string"==typeof e.name&&!Nr(e)}var Lr=pt((function(e,t){try{return qe(e,void 0,t)}catch(e){return zr(e)?e:new Error(e)}})),Br=Lr;function Jr(e){var t=this.__data__=new cr(e);this.size=t.size}Jr.prototype.clear=function(){this.__data__=new cr,this.size=0},Jr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Jr.prototype.get=function(e){return this.__data__.get(e)},Jr.prototype.has=function(e){return this.__data__.has(e)},Jr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof cr){var n=r.__data__;if(!lr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new fr(n)}return r.set(e,t),this.size=r.size,this};var Gr="object"==typeof t&&t&&!t.nodeType&&t,qr=Gr&&"object"==typeof module&&module&&!module.nodeType&&module,Vr=qr&&qr.exports===Gr?re.Buffer:void 0,Wr=Vr?Vr.allocUnsafe:void 0;function Kr(){return[]}var Yr=Object.prototype.propertyIsEnumerable,Hr=Object.getOwnPropertySymbols,Qr=Hr?function(e){return null==e?[]:(e=Object(e),function(t,r){for(var n=-1,o=null==t?0:t.length,i=0,a=[];++n<o;){var s=t[n];c=s,Yr.call(e,c)&&(a[i++]=s)}var c;return a}(Hr(e)))}:Kr,Zr=Qr,Xr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Sr(t,Zr(e)),e=Ar(e);return t}:Kr,en=Xr;function tn(e,t,r){var n=t(e);return ye(e)?n:Sr(n,r(e))}function rn(e){return tn(e,Wt,Zr)}function nn(e){return tn(e,Ht,en)}var on=ze(re,"DataView"),an=ze(re,"Promise"),sn=ze(re,"Set"),cn="[object Map]",ln="[object Promise]",un="[object Set]",fn="[object WeakMap]",dn="[object DataView]",hn=xe(on),pn=xe(lr),gn=xe(an),mn=xe(sn),yn=xe(Le),bn=de;(on&&bn(new on(new ArrayBuffer(1)))!=dn||lr&&bn(new lr)!=cn||an&&bn(an.resolve())!=ln||sn&&bn(new sn)!=un||Le&&bn(new Le)!=fn)&&(bn=function(e){var t=de(e),r="[object Object]"==t?e.constructor:void 0,n=r?xe(r):"";if(n)switch(n){case hn:return dn;case pn:return cn;case gn:return ln;case mn:return un;case yn:return fn}return t});var vn=bn,wn=Object.prototype.hasOwnProperty,_n=re.Uint8Array;function jn(e){var t=new e.constructor(e.byteLength);return new _n(t).set(new _n(e)),t}var $n=/\w*$/,Sn=ne?ne.prototype:void 0,Pn=Sn?Sn.valueOf:void 0,On="[object Boolean]",kn="[object Date]",Mn="[object Map]",En="[object Number]",An="[object RegExp]",Cn="[object Set]",Tn="[object String]",xn="[object Symbol]",Rn="[object ArrayBuffer]",In="[object DataView]",Fn="[object Float32Array]",Nn="[object Float64Array]",Dn="[object Int8Array]",Un="[object Int16Array]",zn="[object Int32Array]",Ln="[object Uint8Array]",Bn="[object Uint8ClampedArray]",Jn="[object Uint16Array]",Gn="[object Uint32Array]";var qn=Nt&&Nt.isMap,Vn=qn?xt(qn):function(e){return he(e)&&"[object Map]"==vn(e)},Wn=Vn,Kn=Nt&&Nt.isSet,Yn=Kn?xt(Kn):function(e){return he(e)&&"[object Set]"==vn(e)},Hn=Yn,Qn="[object Arguments]",Zn="[object Function]",Xn="[object Object]",eo={};function to(e,t,r,n,o,i){var a,s=1&t,c=2&t,l=4&t;if(r&&(a=o?r(e,n,o,i):r(e)),void 0!==a)return a;if(!je(e))return e;var u=ye(e);if(u){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&wn.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!s)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,a)}else{var f=vn(e),d=f==Zn||"[object GeneratorFunction]"==f;if(Ct(e))return function(e,t){if(t)return e.slice();var r=e.length,n=Wr?Wr(r):new e.constructor(r);return e.copy(n),n}(e,s);if(f==Xn||f==Qn||d&&!o){if(a=c||d?{}:function(e){return"function"!=typeof e.constructor||_t(e)?{}:Ge(Ar(e))}(e),!s)return c?function(e,t){return ft(e,en(e),t)}(e,function(e,t){return e&&ft(t,Ht(t),e)}(a,e)):function(e,t){return ft(e,Zr(e),t)}(e,function(e,t){return e&&ft(t,Wt(t),e)}(a,e))}else{if(!eo[f])return o?e:{};a=function(e,t,r){var n,o,i,a=e.constructor;switch(t){case Rn:return jn(e);case On:case kn:return new a(+e);case In:return function(e,t){var r=t?jn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case Fn:case Nn:case Dn:case Un:case zn:case Ln:case Bn:case Jn:case Gn:return function(e,t){var r=t?jn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case Mn:return new a;case En:case Tn:return new a(e);case An:return(i=new(o=e).constructor(o.source,$n.exec(o))).lastIndex=o.lastIndex,i;case Cn:return new a;case xn:return n=e,Pn?Object(Pn.call(n)):{}}}(e,f,s)}}i||(i=new Jr);var h=i.get(e);if(h)return h;i.set(e,a),Hn(e)?e.forEach((function(n){a.add(to(n,t,r,n,e,i))})):Wn(e)&&e.forEach((function(n,o){a.set(o,to(n,t,r,o,e,i))}));var p=u?void 0:(l?c?nn:rn:c?Ht:Wt)(e);return function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r););}(p||e,(function(n,o){p&&(n=e[o=n]),ut(a,o,to(n,t,r,o,e,i))})),a}function ro(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new fr;++t<r;)this.add(e[t])}function no(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function oo(e,t){return e.has(t)}eo[Qn]=eo["[object Array]"]=eo["[object ArrayBuffer]"]=eo["[object DataView]"]=eo["[object Boolean]"]=eo["[object Date]"]=eo["[object Float32Array]"]=eo["[object Float64Array]"]=eo["[object Int8Array]"]=eo["[object Int16Array]"]=eo["[object Int32Array]"]=eo["[object Map]"]=eo["[object Number]"]=eo[Xn]=eo["[object RegExp]"]=eo["[object Set]"]=eo["[object String]"]=eo["[object Symbol]"]=eo["[object Uint8Array]"]=eo["[object Uint8ClampedArray]"]=eo["[object Uint16Array]"]=eo["[object Uint32Array]"]=!0,eo["[object Error]"]=eo[Zn]=eo["[object WeakMap]"]=!1,ro.prototype.add=ro.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ro.prototype.has=function(e){return this.__data__.has(e)};var io=1,ao=2;function so(e,t,r,n,o,i){var a=r&io,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=i.get(e),u=i.get(t);if(l&&u)return l==t&&u==e;var f=-1,d=!0,h=r&ao?new ro:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var p=e[f],g=t[f];if(n)var m=a?n(g,p,f,t,e,i):n(p,g,f,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!no(t,(function(e,t){if(!oo(h,t)&&(p===e||o(p,e,r,n,i)))return h.push(t)}))){d=!1;break}}else if(p!==g&&!o(p,g,r,n,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function co(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function lo(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var uo=1,fo=2,ho="[object Boolean]",po="[object Date]",go="[object Error]",mo="[object Map]",yo="[object Number]",bo="[object RegExp]",vo="[object Set]",wo="[object String]",_o="[object Symbol]",jo="[object ArrayBuffer]",$o="[object DataView]",So=ne?ne.prototype:void 0,Po=So?So.valueOf:void 0,Oo=1,ko=Object.prototype.hasOwnProperty,Mo=1,Eo="[object Arguments]",Ao="[object Array]",Co="[object Object]",To=Object.prototype.hasOwnProperty;function xo(e,t,r,n,o){return e===t||(null==e||null==t||!he(e)&&!he(t)?e!=e&&t!=t:function(e,t,r,n,o,i){var a=ye(e),s=ye(t),c=a?Ao:vn(e),l=s?Ao:vn(t),u=(c=c==Eo?Co:c)==Co,f=(l=l==Eo?Co:l)==Co,d=c==l;if(d&&Ct(e)){if(!Ct(t))return!1;a=!0,u=!1}if(d&&!u)return i||(i=new Jr),a||zt(e)?so(e,t,r,n,o,i):function(e,t,r,n,o,i,a){switch(r){case $o:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jo:return!(e.byteLength!=t.byteLength||!i(new _n(e),new _n(t)));case ho:case po:case yo:return ct(+e,+t);case go:return e.name==t.name&&e.message==t.message;case bo:case wo:return e==t+"";case mo:var s=co;case vo:var c=n&uo;if(s||(s=lo),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;n|=fo,a.set(e,t);var u=so(s(e),s(t),n,o,i,a);return a.delete(e),u;case _o:if(Po)return Po.call(e)==Po.call(t)}return!1}(e,t,c,r,n,o,i);if(!(r&Mo)){var h=u&&To.call(e,"__wrapped__"),p=f&&To.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return i||(i=new Jr),o(g,m,r,n,i)}}return!!d&&(i||(i=new Jr),function(e,t,r,n,o,i){var a=r&Oo,s=rn(e),c=s.length;if(c!=rn(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:ko.call(t,u)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++l<c;){var g=e[u=s[l]],m=t[u];if(n)var y=a?n(m,g,u,t,e,i):n(g,m,u,e,t,i);if(!(void 0===y?g===m||o(g,m,r,n,i):y)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,r,n,o,i))}(e,t,r,n,xo,o))}var Ro=1,Io=2;function Fo(e){return e==e&&!je(e)}function No(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}function Do(e,t){return null!=e&&t in Object(e)}function Uo(e,t){return null!=e&&function(e,t,r){for(var n=-1,o=(t=vr(t,e)).length,i=!1;++n<o;){var a=_r(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&mt(o)&&at(a,o)&&(ye(e)||kt(e))}(e,t,Do)}function zo(e){return"function"==typeof e?e:null==e?$e:"object"==typeof e?ye(e)?(n=e[0],o=e[1],tr(n)&&Fo(o)?No(_r(n),o):function(e){var t=$r(e,n);return void 0===t&&t===o?Uo(e,n):xo(o,t,3)}):(r=function(e){for(var t=Wt(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Fo(o)]}return t}(t=e),1==r.length&&r[0][2]?No(r[0][0],r[0][1]):function(e){return e===t||function(e,t,r,n){var o=r.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var a=r[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var s=(a=r[o])[0],c=e[s],l=a[1];if(a[2]){if(void 0===c&&!(s in e))return!1}else{var u,f=new Jr;if(!(void 0===u?xo(l,c,Ro|Io,n,f):u))return!1}}return!0}(e,0,r)}):function(e){return tr(e)?(t=_r(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return jr(t,e)}}(e);var t}(e);var t,r,n,o}function Lo(e){return he(e)&&yt(e)}function Bo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Jo,Go=(Jo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==Jo?void 0:Jo[e]}),qo=/[&<>"']/g,Vo=RegExp(qo.source),Wo=Math.min;function Ko(e){return Lo(e)?e:[]}pt((function(e){var t=Bo(e),r=me(e,Ko);return t===Bo(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?function(e,t,r){for(var n=nt,o=e[0].length,i=e.length,a=i,s=Array(i),c=1/0,l=[];a--;){var u=e[a];a&&t&&(u=me(u,xt(t))),c=Wo(u.length,c),s[a]=t||o>=120&&u.length>=120?new ro(a&&u):void 0}u=e[0];var f=-1,d=s[0];e:for(;++f<o&&l.length<c;){var h=u[f],p=t?t(h):h;if(h=0!==h?h:0,!(d?oo(d,p):n(l,p,r))){for(a=i;--a;){var g=s[a];if(!(g?oo(g,p):n(e[a],p,r)))continue e}d&&d.push(p),l.push(h)}}return l}(r,zo(t)):[]}));var Yo="[object Map]",Ho="[object Set]",Qo=Object.prototype.hasOwnProperty;function Zo(e,t){return null==(e=function(e,t){return t.length<2?e:jr(e,function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}(t,0,-1))}(e,t=vr(t,e)))||delete e[_r(Bo(t))]}function Xo(e){return Nr(e)?void 0:e}var ei=Er((function(e,t){var r={};if(null==e)return r;var n=!1;t=me(t,(function(t){return t=vr(t,e),n||(n=t.length>1),t})),ft(e,nn(e),r),n&&(r=to(r,7,Xo));for(var o=t.length;o--;)Zo(r,t[o]);return r})),ti=ei;function ri(e,t,r,n){if(!je(e))return e;for(var o=-1,i=(t=vr(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var c=_r(t[o]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var u=s[c];void 0===(l=n?n(u,c,s):void 0)&&(l=je(u)?u:at(t[o+1])?[]:{})}ut(s,c,l),s=s[c]}return e}Er((function(e,t){return null==e?{}:function(e,t){return function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],s=jr(e,a);r(0,a)&&ri(i,vr(a,e),s)}return i}(e,t,(function(t,r){return Uo(e,r)}))}(e,t)}));var ni=Object.prototype,oi=ni.hasOwnProperty;function ii(e,t,r,n){return void 0===e||ct(e,ni[r])&&!oi.call(n,r)?t:e}var ai={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function si(e){return"\\"+ai[e]}var ci=/<%=([\s\S]+?)%>/g,li={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ci,variable:"",imports:{_:{escape:function(e){return(e=br(e))&&Vo.test(e)?e.replace(qo,Go):e}}}},ui="Invalid `variable` option passed into `_.template`",fi=/\b__p \+= '';/g,di=/\b(__p \+=) '' \+/g,hi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pi=/[()=,{}\[\]\/\s]/,gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mi=/($^)/,yi=/['\n\r\u2028\u2029\\]/g,bi=Object.prototype.hasOwnProperty;var vi=sn&&1/lo(new sn([,-0]))[1]==1/0?function(e){return new sn(e)}:function(){};function wi(e){return null==e||"string"==typeof e&&""===e||Nr(e)&&function(e){if(null==e)return!0;if(yt(e)&&(ye(e)||"string"==typeof e||"function"==typeof e.splice||Ct(e)||zt(e)||kt(e)))return!e.length;var t=vn(e);if(t==Yo||t==Ho)return!e.size;if(_t(e))return!Vt(e).length;for(var r in e)if(Qo.call(e,r))return!1;return!0}(e)||Array.isArray(e)&&e.length<1||"object"==typeof e&&!1===ye(e)&&function(e){let t=!0;if("object"==typeof e&&!1===ye(e))for(const r in e){const n=e?.[r];if(!0===e.hasOwnProperty(r)&&null!=n&&""!==n){t=!1;break}}return t}(e)}async function _i(e,t){return q.default(e,t)}pt((function(e){var t=Bo(e);return Lo(t)&&(t=void 0),function(e,t,r){var n=-1,o=nt,i=e.length,a=!0,s=[],c=s;if(i>=200){var l=t?null:vi(e);if(l)return lo(l);a=!1,o=oo,c=new ro}else c=t?[]:s;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=0!==u?u:0,a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),s.push(u)}else o(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}(kr(e,1,Lo,!0),zo(t))}));const ji={Arabic:"ar",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},$i=[...Object.values(ji),"ar-u-nu-latn","en-AU","en-GB","es-ES","es-MX","de-AT","de-CH","de-DE","it-CH","it-IT"],Si=[ji.Arabic,ji.Hebrew];function Pi(e,t){return function(e,t,r){var n=li.imports._.templateSettings||li;r&&bt(e,t,r)&&(t=void 0),e=br(e),t=Zt({},t,n,ii);var o,i,a=Zt({},t.imports,n.imports,ii),s=Wt(a),c=function(e,t){return me(t,(function(t){return e[t]}))}(a,s),l=0,u=t.interpolate||mi,f="__p += '",d=RegExp((t.escape||mi).source+"|"+u.source+"|"+(u===ci?gi:mi).source+"|"+(t.evaluate||mi).source+"|$","g"),h=bi.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(d,(function(t,r,n,a,s,c){return n||(n=a),f+=e.slice(l,c).replace(yi,si),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),f+="';\n";var p=bi.call(t,"variable")&&t.variable;if(p){if(pi.test(p))throw new Error(ui)}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(fi,""):f).replace(di,"$1").replace(hi,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Br((function(){return Function(s,h+"return "+f).apply(void 0,c)}));if(g.source=f,zr(g))throw g;return g}(e)(t)}function Oi(e=document.documentElement){const t=("[lang]",function e(t){let r;return r=void 0===t||t===document||t===window?null:t.closest("[lang]")||e(t.getRootNode().host),r}(e));const r=t?.lang??window.navigator.language,n=function(e){let t=ji.English;if(void 0!==e){const r=Object.values(ji),n=r.filter((e=>-1!==e.indexOf("-")));if(-1!==e.indexOf("-")){const[t,r]=e.split("-");e=`${t}-${r.toUpperCase()}`}if(!0===n.includes(e))t=e;else{const n=function(e){const t=e?.match(/^([a-z]{2})-([A-Z]{1,2})$/);let r=ji.English;return null!=t&&t?.length>1?r=t[1]:2===e?.length&&e.toLowerCase()===e&&(r=e),r}(e);!0===r.includes(n)&&(t=n)}}return t}(r),o=function(e){let t=$i.find((t=>t===e));if(void 0===t&&(t=e),void 0!==t&&-1!==t.indexOf("-")){const[e,r]=t.split("-");t=`${e}-${r.toUpperCase()}`}return"ar"===t&&(t="ar-u-nu-latn"),t}(r);return{locale:n,rtl:Si.includes(n),formatLocale:o}}class ki extends Error{constructor(e,t,r,n){super(t),this.name=e,this.details=r,this.cause=n}}const Mi="creditThresholdExceededError",Ei="InsufficientCreditsError",Ai="networkError",Ci="serviceNameExistsError",Ti="specialCharactersInServiceNameError",xi="webToolFailedFetch";var Ri=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")},Ii=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return Ri()}try{return __global__||Ri()}finally{delete Object.prototype.__global__}}(),Fi="object"==typeof globalThis&&globalThis&&globalThis.Array===Array?globalThis:Ii,Ni=Fi,Di={object:!0,symbol:!0},Ui={exports:{}},zi=function(e){return null!=e},Li=zi,Bi={object:!0,function:!0,undefined:!0},Ji=function(e){if(!function(e){return!!Li(e)&&hasOwnProperty.call(Bi,typeof e)}(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}},Gi=/^\s*class[\s{/}]/,qi=Function.prototype.toString,Vi=function(e){return null!=e},Wi=Vi,Ki=Object.keys,Yi=function(){try{return!0}catch(e){return!1}}()?Object.keys:function(e){return Ki(Wi(e)?Object(e):e)},Hi=Vi,Qi=Yi,Zi=Math.max,Xi=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}()?Object.assign:function(e,t){var r,n,o,i=Zi(arguments.length,2);for(e=Object(function(e){if(!Hi(e))throw new TypeError("Cannot use null or undefined");return e}(e)),o=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},n=1;n<i;++n)Qi(t=arguments[n]).forEach(o);if(void 0!==r)throw r;return e},ea=Vi,ta=Array.prototype.forEach,ra=Object.create,na="razdwatrzy",oa=String.prototype.indexOf,ia="function"==typeof na.contains&&!0===na.contains("dwa")&&!1===na.contains("foo")?String.prototype.contains:function(e){return oa.call(this,e,arguments[1])>-1},aa=zi,sa=function(e){return!!function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!Ji(e)}(e)&&!Gi.test(qi.call(e))},ca=Xi,la=function(e){var t=ra(null);return ta.call(arguments,(function(e){ea(e)&&function(e,t){var r;for(r in e)t[r]=e[r]}(Object(e),t)})),t},ua=ia,fa=Ui.exports=function(e,t){var r,n,o,i,a;return arguments.length<2||"string"!=typeof e?(i=t,t=e,e=null):i=arguments[2],aa(e)?(r=ua.call(e,"c"),n=ua.call(e,"e"),o=ua.call(e,"w")):(r=o=!0,n=!1),a={value:t,configurable:r,enumerable:n,writable:o},i?ca(la(i),a):a};fa.gs=function(e,t,r){var n,o,i,a;return"string"!=typeof e?(i=r,r=t,t=e,e=null):i=arguments[3],aa(t)?sa(t)?aa(r)?sa(r)||(i=r,r=void 0):r=void 0:(i=t,t=r=void 0):t=void 0,aa(e)?(n=ua.call(e,"c"),o=ua.call(e,"e")):(n=!0,o=!1),a={get:t,set:r,configurable:n,enumerable:o},i?ca(la(i),a):a};var da,ha,pa,ga=function(e){if(!function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}(e))throw new TypeError(e+" is not a symbol");return e},ma=Ui.exports,ya=Object.create,ba=Object.defineProperty,va=Object.prototype,wa=ya(null),_a=Ui.exports,ja=Fi.Symbol,$a=Ui.exports,Sa=ga,Pa=Object.create(null),Oa=Ui.exports,ka=ga,Ma=Fi.Symbol,Ea=function(e){for(var t,r,n=0;wa[e+(n||"")];)++n;return wa[e+=n||""]=!0,ba(va,t="@@"+e,ma.gs(null,(function(e){r||(r=!0,ba(this,t,ma(e)),r=!1)}))),t},Aa=Object.create,Ca=Object.defineProperties,Ta=Object.defineProperty;if("function"==typeof Ma)try{String(Ma()),pa=!0}catch(e){}else Ma=null;ha=function(e){if(this instanceof ha)throw new TypeError("Symbol is not a constructor");return da(e)};var xa=da=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return pa?Ma(t):(r=Aa(ha.prototype),t=void 0===t?"":String(t),Ca(r,{__description__:Oa("",t),__name__:Oa("",Ea(t))}))};(function(e){Object.defineProperties(e,{hasInstance:_a("",ja&&ja.hasInstance||e("hasInstance")),isConcatSpreadable:_a("",ja&&ja.isConcatSpreadable||e("isConcatSpreadable")),iterator:_a("",ja&&ja.iterator||e("iterator")),match:_a("",ja&&ja.match||e("match")),replace:_a("",ja&&ja.replace||e("replace")),search:_a("",ja&&ja.search||e("search")),species:_a("",ja&&ja.species||e("species")),split:_a("",ja&&ja.split||e("split")),toPrimitive:_a("",ja&&ja.toPrimitive||e("toPrimitive")),toStringTag:_a("",ja&&ja.toStringTag||e("toStringTag")),unscopables:_a("",ja&&ja.unscopables||e("unscopables"))})})(da),function(e){Object.defineProperties(e,{for:$a((function(t){return Pa[t]?Pa[t]:Pa[t]=e(String(t))})),keyFor:$a((function(e){var t;for(t in Sa(e),Pa)if(Pa[t]===e)return t}))})}(da),Ca(ha.prototype,{constructor:Oa(da),toString:Oa("",(function(){return this.__name__}))}),Ca(da.prototype,{toString:Oa((function(){return"Symbol ("+ka(this).__description__+")"})),valueOf:Oa((function(){return ka(this)}))}),Ta(da.prototype,da.toPrimitive,Oa("",(function(){var e=ka(this);return"symbol"==typeof e?e:e.toString()}))),Ta(da.prototype,da.toStringTag,Oa("c","Symbol")),Ta(ha.prototype,da.toStringTag,Oa("c",da.prototype[da.toStringTag])),Ta(ha.prototype,da.toPrimitive,Oa("c",da.prototype[da.toPrimitive])),(!function(){var e=Ni.Symbol;return"function"==typeof e&&(e("test symbol"),!!Di[typeof e.iterator]&&!!Di[typeof e.toPrimitive]&&!!Di[typeof e.toStringTag])}()?xa:Fi.Symbol)("-");var Ra={exports:{}};function Ia(e,t,r,n){var o=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(n)?n:r(n),i=t.get(o);return void 0===i&&(i=e.call(this,n),t.set(o,i)),i}function Fa(e,t,r){var n=Array.prototype.slice.call(arguments,3),o=r(n),i=t.get(o);return void 0===i&&(i=e.apply(this,n),t.set(o,i)),i}function Na(e,t,r,n,o){return r.bind(t,e,n,o)}function Da(e,t){return Na(e,this,1===e.length?Ia:Fa,t.cache.create(),t.serializer)}function Ua(){return JSON.stringify(arguments)}function za(){this.cache=Object.create(null)}za.prototype.has=function(e){return e in this.cache},za.prototype.get=function(e){return this.cache[e]},za.prototype.set=function(e,t){this.cache[e]=t};var La={create:function(){return new za}};Ra.exports=function(e,t){var r=t&&t.cache?t.cache:La,n=t&&t.serializer?t.serializer:Ua;return(t&&t.strategy?t.strategy:Da)(e,{cache:r,serializer:n})},Ra.exports.strategies={variadic:function(e,t){return Na(e,this,Fa,t.cache.create(),t.serializer)},monadic:function(e,t){return Na(e,this,Ia,t.cache.create(),t.serializer)}};var Ba=Ra.exports;const Ja=["SingleLine","Address","Address2","Address3","Neighborhood","City","Subregion","Region","Postal","PostalExt","CountryCode"];Ba((async e=>{const t=rf(e,"geocodeServiceURL");let r;try{({data:{detailedCountries:r}}=await _i(`${t}?f=json`,{responseType:"json"}))}catch(e){return[]}const{locale:n}=Oi(),o=r.map((e=>{const t=e.localizedNames,r=n.length>2&&n;let o;if("boolean"!=typeof r&&(o=t[r]),void 0===o){const e=2===n.length?n:n.slice(0,2);if(o=t[e],void 0===o){const r=Object.keys(t).find((t=>t.startsWith(e)));void 0!==r&&(o=t[r])}}return null!=o&&""!==o||(o=t[ji.English]??t[ji.EnglishUSA]),{name:e.name,label:o}}));return o}),{serializer:e=>{const{geocodeServiceURL:t}=e;return t??"EMPTY_KEY"}}),Ba((async(e,t)=>{const r=function(e,t){const{locale:r}=Oi(),n=rf(e,"geocodeServiceURL");let o={asyncGeocodeUrl:t.helperServices.asyncGeocode.url,geocodeServiceURL:n,locale:r};const i=of($r(e,"inputFileItem.itemId"),t),a=rf(e,"inputTable");if(wi(i?.id))wi(a?.url)||(o={...o,inputTable:{url:a.url,serviceToken:a.serviceToken}});else{const e="CSV"===i.type?"csv":"xlsx";o={...o,inputFileItem:{itemid:i.id},inputFileParameters:{fileType:e,headerRowExists:"true",columnDelimiter:"",textQualifier:""}}}return o}(e,t);let n,o,i;try{n=await nf(r)}catch(e){return{addressFields:[],labels:{},values:[]}}e.geocodeParameters=n;try{o=JSON.parse(n.field_info),i=JSON.parse(n.field_mapping).reduce(((e,t)=>({...e,[t[1]]:t[0]})),{})}catch(e){return{addressFields:[],labels:{},values:[]}}const a=o.map((e=>e[0])),s=a.reduce(((e,t)=>({...e,[t]:t})),{});return{addressFields:a,labels:s,values:Ja.map((e=>i[e]))}}),{serializer:e=>{const{geocodeServiceURL:t,inputFileItem:r,inputTable:n}=e[0],o=r?.itemId,i=n?.url;return wi(t)||wi(o)&&wi(i)?"EMPTY_KEY":`${t}${o}${i}`}});async function Ga(t,r){const n=await async function(t=Oi().locale){let r=await new Promise((function(t,r){e(["./errors.t9n.en-6cb15d51-6b6d9a9f-9eae65b2"],t,r)}));switch(t){case ji.Arabic:r=await new Promise((function(t,r){e(["./errors.t9n.ar-1b9d7225-1ecdb6c0-53c31cde"],t,r)}));break;case ji.Bosnian:r=await new Promise((function(t,r){e(["./errors.t9n.bs-377a5410-cdbaf960-2083c5aa"],t,r)}));break;case ji.Bulgarian:r=await new Promise((function(t,r){e(["./errors.t9n.bg-89d094b5-977ecfea-6e721500"],t,r)}));break;case ji.Catalan:r=await new Promise((function(t,r){e(["./errors.t9n.ca-b4c83c33-1bc59588-9b30d03c"],t,r)}));break;case ji.Czech:r=await new Promise((function(t,r){e(["./errors.t9n.cs-96fcf27d-9b9ab191-015cf419"],t,r)}));break;case ji.Danish:r=await new Promise((function(t,r){e(["./errors.t9n.da-cefe0c47-a25d4108-76cf0587"],t,r)}));break;case ji.German:r=await new Promise((function(t,r){e(["./errors.t9n.de-a1b0ae17-398646ca-11fa189f"],t,r)}));break;case ji.Greek:r=await new Promise((function(t,r){e(["./errors.t9n.el-0a20e1cc-d2dff5c0-e061784f"],t,r)}));break;case ji.EnglishUSA:r=await new Promise((function(t,r){e(["./errors.t9n.en-US-c9f50f19-f32c2d3b-dee2c6fc"],t,r)}));break;case ji.Spanish:r=await new Promise((function(t,r){e(["./errors.t9n.es-0dd138a7-69747b34-977f59d5"],t,r)}));break;case ji.Estonian:r=await new Promise((function(t,r){e(["./errors.t9n.et-57cc3980-1bdd9c2d-73dacf77"],t,r)}));break;case ji.Finnish:r=await new Promise((function(t,r){e(["./errors.t9n.fi-7d2525cb-4b956ccb-79dd28cb"],t,r)}));break;case ji.French:r=await new Promise((function(t,r){e(["./errors.t9n.fr-b2186e48-5ce9dd13-ebc56b4e"],t,r)}));break;case ji.Hebrew:r=await new Promise((function(t,r){e(["./errors.t9n.he-f487411b-0d58dc1d-e52105cd"],t,r)}));break;case ji.Croatian:r=await new Promise((function(t,r){e(["./errors.t9n.hr-61ca76d9-ddadf0d2-601d957e"],t,r)}));break;case ji.Hungarian:r=await new Promise((function(t,r){e(["./errors.t9n.hu-7fa01d3c-a864095a-7b6aabdf"],t,r)}));break;case ji.Indonesian:r=await new Promise((function(t,r){e(["./errors.t9n.id-6801fef5-56d34b5e-e913b9cd"],t,r)}));break;case ji.Italian:r=await new Promise((function(t,r){e(["./errors.t9n.it-568c2b04-817f6e26-f940078a"],t,r)}));break;case ji.Japanese:r=await new Promise((function(t,r){e(["./errors.t9n.ja-6042d3af-c76450b2-4ded7c57"],t,r)}));break;case ji.Korean:r=await new Promise((function(t,r){e(["./errors.t9n.ko-4d01f228-fa522d19-dae6bec2"],t,r)}));break;case ji.Lithuanian:r=await new Promise((function(t,r){e(["./errors.t9n.lt-7f94cd9d-a8765c78-e6a8521e"],t,r)}));break;case ji.Latvian:r=await new Promise((function(t,r){e(["./errors.t9n.lv-0223c6ae-e87e5f50-ce5ed667"],t,r)}));break;case ji.NorwegianBokml:r=await new Promise((function(t,r){e(["./errors.t9n.nb-1f800b8b-560eaaa6-bee8de21"],t,r)}));break;case ji.Dutch:r=await new Promise((function(t,r){e(["./errors.t9n.nl-dd20c6e1-25d5f4a6-42e7aba2"],t,r)}));break;case ji.Polish:r=await new Promise((function(t,r){e(["./errors.t9n.pl-e71d8c8e-00ab0f1d-72b9eca5"],t,r)}));break;case ji.PortugueseBrazil:r=await new Promise((function(t,r){e(["./errors.t9n.pt-BR-6cdb50a3-a18ab931-a4763035"],t,r)}));break;case ji.PortuguesePortugal:r=await new Promise((function(t,r){e(["./errors.t9n.pt-PT-6b3866f5-ebf06039-4facc845"],t,r)}));break;case ji.Romanian:r=await new Promise((function(t,r){e(["./errors.t9n.ro-86e7cba9-d4c8d6a2-06349efc"],t,r)}));break;case ji.Russian:r=await new Promise((function(t,r){e(["./errors.t9n.ru-23cdd703-c3cdda0a-de688fc7"],t,r)}));break;case ji.Serbian:r=await new Promise((function(t,r){e(["./errors.t9n.sr-fad84a78-d22f27be-956451e2"],t,r)}));break;case ji.Slovak:r=await new Promise((function(t,r){e(["./errors.t9n.sk-3b14f765-25690031-b3624a0c"],t,r)}));break;case ji.Slovenian:r=await new Promise((function(t,r){e(["./errors.t9n.sl-e900baaf-eca6555a-55e071c1"],t,r)}));break;case ji.Swedish:r=await new Promise((function(t,r){e(["./errors.t9n.sv-4613eae2-34db6f33-68d400f1"],t,r)}));break;case ji.Thai:r=await new Promise((function(t,r){e(["./errors.t9n.th-5732c8a4-9920e4e0-b3888374"],t,r)}));break;case ji.Turkish:r=await new Promise((function(t,r){e(["./errors.t9n.tr-ccd64dcc-b4db56b1-9da4a030"],t,r)}));break;case ji.Ukrainian:r=await new Promise((function(t,r){e(["./errors.t9n.uk-e6c5f2f4-f9b80043-bfe92819"],t,r)}));break;case ji.Vietnamese:r=await new Promise((function(t,r){e(["./errors.t9n.vi-3f1e30b4-091aee60-2ffe0b4a"],t,r)}));break;case ji.ChineseChina:r=await new Promise((function(t,r){e(["./errors.t9n.zh-CN-8e563d8f-16f78c33-252bc1bf"],t,r)}));break;case ji.ChineseHongKong:r=await new Promise((function(t,r){e(["./errors.t9n.zh-HK-23eb2505-deff0e0d-be89713e"],t,r)}));break;case ji.ChineseTaiwan:r=await new Promise((function(t,r){e(["./errors.t9n.zh-TW-4017c011-d5202fc0-2e785921"],t,r)}))}return r}(),o=n[t];throw new ki(t,o??n.defaultError,{type:"analysis_ui"},r)}const qa="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};var Va="object"==typeof qa&&qa&&qa.Object===Object&&qa,Wa="object"==typeof self&&self&&self.Object===Object&&self,Ka=Va||Wa||Function("return this")(),Ya=Ka.Symbol,Ha=Object.prototype,Qa=Ha.hasOwnProperty,Za=Ha.toString,Xa=Ya?Ya.toStringTag:void 0,es=Object.prototype.toString,ts="[object Null]",rs="[object Undefined]",ns=Ya?Ya.toStringTag:void 0;function os(e){return null==e?void 0===e?rs:ts:ns&&ns in Object(e)?function(e){var t=Qa.call(e,Xa),r=e[Xa];try{e[Xa]=void 0;var n=!0}catch(e){}var o=Za.call(e);return n&&(t?e[Xa]=r:delete e[Xa]),o}(e):function(e){return es.call(e)}(e)}function is(e){return null!=e&&"object"==typeof e}var as=Array.isArray;function ss(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var cs="[object AsyncFunction]",ls="[object Function]",us="[object GeneratorFunction]",fs="[object Proxy]";function ds(e){if(!ss(e))return!1;var t=os(e);return t==ls||t==us||t==cs||t==fs}var hs=Ka["__core-js_shared__"],ps=function(){var e=/[^.]+$/.exec(hs&&hs.keys&&hs.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gs=Function.prototype.toString;function ms(e){if(null!=e){try{return gs.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var ys=/^\[object .+?Constructor\]$/,bs=Function.prototype,vs=Object.prototype,ws=bs.toString,_s=vs.hasOwnProperty,js=RegExp("^"+ws.call(_s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $s(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ss(e)||function(e){return!!ps&&ps in e}(e))&&(ds(e)?js:ys).test(ms(e))}(r)?r:void 0}var Ss=$s(Ka,"WeakMap"),Ps=9007199254740991;function Os(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ps}function ks(e){return null!=e&&Os(e.length)&&!ds(e)}var Ms=Object.prototype;function Es(e){return is(e)&&"[object Arguments]"==os(e)}var As=Object.prototype,Cs=As.hasOwnProperty,Ts=As.propertyIsEnumerable,xs=Es(function(){return arguments}())?Es:function(e){return is(e)&&Cs.call(e,"callee")&&!Ts.call(e,"callee")},Rs="object"==typeof t&&t&&!t.nodeType&&t,Is=Rs&&"object"==typeof module&&module&&!module.nodeType&&module,Fs=Is&&Is.exports===Rs?Ka.Buffer:void 0,Ns=(Fs?Fs.isBuffer:void 0)||function(){return!1},Ds={};Ds["[object Float32Array]"]=Ds["[object Float64Array]"]=Ds["[object Int8Array]"]=Ds["[object Int16Array]"]=Ds["[object Int32Array]"]=Ds["[object Uint8Array]"]=Ds["[object Uint8ClampedArray]"]=Ds["[object Uint16Array]"]=Ds["[object Uint32Array]"]=!0,Ds["[object Arguments]"]=Ds["[object Array]"]=Ds["[object ArrayBuffer]"]=Ds["[object Boolean]"]=Ds["[object DataView]"]=Ds["[object Date]"]=Ds["[object Error]"]=Ds["[object Function]"]=Ds["[object Map]"]=Ds["[object Number]"]=Ds["[object Object]"]=Ds["[object RegExp]"]=Ds["[object Set]"]=Ds["[object String]"]=Ds["[object WeakMap]"]=!1;var Us="object"==typeof t&&t&&!t.nodeType&&t,zs=Us&&"object"==typeof module&&module&&!module.nodeType&&module,Ls=zs&&zs.exports===Us&&Va.process,Bs=function(){try{return zs&&zs.require&&zs.require("util").types||Ls&&Ls.binding&&Ls.binding("util")}catch(e){}}(),Js=Bs&&Bs.isTypedArray,Gs=Js?function(e){return function(t){return e(t)}}(Js):function(e){return is(e)&&Os(e.length)&&!!Ds[os(e)]},qs=$s(Ka,"Map"),Vs=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),Ws=Function.prototype,Ks=Object.prototype,Ys=Ws.toString,Hs=Ks.hasOwnProperty,Qs=Ys.call(Object),Zs=$s(Ka,"DataView"),Xs=$s(Ka,"Promise"),ec=$s(Ka,"Set"),tc="[object Map]",rc="[object Promise]",nc="[object Set]",oc="[object WeakMap]",ic="[object DataView]",ac=ms(Zs),sc=ms(qs),cc=ms(Xs),lc=ms(ec),uc=ms(Ss),fc=os;function dc(e){return e}function hc(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(Zs&&fc(new Zs(new ArrayBuffer(1)))!=ic||qs&&fc(new qs)!=tc||Xs&&fc(Xs.resolve())!=rc||ec&&fc(new ec)!=nc||Ss&&fc(new Ss)!=oc)&&(fc=function(e){var t=os(e),r="[object Object]"==t?e.constructor:void 0,n=r?ms(r):"";if(n)switch(n){case ac:return ic;case sc:return tc;case cc:return rc;case lc:return nc;case uc:return oc}return t});var pc=Date.now;function gc(e){return function(){return e}}var mc=function(){try{var e=$s(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),yc=mc?function(e,t){return mc(e,"toString",{configurable:!0,enumerable:!1,value:gc(t),writable:!0})}:dc,bc=function(e){var t=0,r=0;return function(){var n=pc(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(yc),vc=9007199254740991,wc=/^(?:0|[1-9]\d*)$/;function _c(e,t){var r=typeof e;return!!(t=null==t?vc:t)&&("number"==r||"symbol"!=r&&wc.test(e))&&e>-1&&e%1==0&&e<t}function jc(e,t,r){"__proto__"==t&&mc?mc(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function $c(e,t){return e===t||e!=e&&t!=t}var Sc=Object.prototype.hasOwnProperty;function Pc(e,t,r){var n=e[t];Sc.call(e,t)&&$c(n,r)&&(void 0!==r||t in e)||jc(e,t,r)}var Oc=Math.max;function kc(e,t){return bc(function(e,t,r){return t=Oc(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=Oc(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(a),hc(e,this,s)}}(e,t,dc),e+"")}var Mc=Object.prototype.hasOwnProperty;var Ec,Ac=Object.prototype.hasOwnProperty;Ec=function(e,t,r,n){!function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),o?jc(r,s,c):Pc(r,s,c)}}(t,function(e){return ks(e)?function(e,t){var r=as(e),n=!r&&xs(e),o=!r&&!n&&Ns(e),i=!r&&!n&&!o&&Gs(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var l in e)!t&&!Mc.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_c(l,c))||s.push(l);return s}(e,!0):function(e){if(!ss(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ms)}(e),r=[];for(var n in e)("constructor"!=n||!t&&Ac.call(e,n))&&r.push(n);return r}(e)}(t),e,n)},kc((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=Ec.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!ss(r))return!1;var n=typeof t;return!!("number"==n?ks(r)&&_c(t,r.length):"string"==n&&t in r)&&$c(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&Ec(e,a,0,o)}return e}));var Cc=$s(Object,"create"),Tc=Object.prototype.hasOwnProperty,xc=Object.prototype.hasOwnProperty;function Rc(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ic(e,t){for(var r=e.length;r--;)if($c(e[r][0],t))return r;return-1}Rc.prototype.clear=function(){this.__data__=Cc?Cc(null):{},this.size=0},Rc.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rc.prototype.get=function(e){var t=this.__data__;if(Cc){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Tc.call(t,e)?t[e]:void 0},Rc.prototype.has=function(e){var t=this.__data__;return Cc?void 0!==t[e]:xc.call(t,e)},Rc.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cc&&void 0===t?"__lodash_hash_undefined__":t,this};var Fc=Array.prototype.splice;function Nc(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Dc(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Uc(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nc.prototype.clear=function(){this.__data__=[],this.size=0},Nc.prototype.delete=function(e){var t=this.__data__,r=Ic(t,e);return!(r<0||(r==t.length-1?t.pop():Fc.call(t,r,1),--this.size,0))},Nc.prototype.get=function(e){var t=this.__data__,r=Ic(t,e);return r<0?void 0:t[r][1]},Nc.prototype.has=function(e){return Ic(this.__data__,e)>-1},Nc.prototype.set=function(e,t){var r=this.__data__,n=Ic(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Uc.prototype.clear=function(){this.size=0,this.__data__={hash:new Rc,map:new(qs||Nc),string:new Rc}},Uc.prototype.delete=function(e){var t=Dc(this,e).delete(e);return this.size-=t?1:0,t},Uc.prototype.get=function(e){return Dc(this,e).get(e)},Uc.prototype.has=function(e){return Dc(this,e).has(e)},Uc.prototype.set=function(e,t){var r=Dc(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},kc((function(e,t){try{return hc(e,void 0,t)}catch(e){return function(e){if(!is(e))return!1;var t=os(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!is(e)||"[object Object]"!=os(e))return!1;var t=Vs(e);if(null===t)return!0;var r=Hs.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ys.call(r)==Qs}(e)}(e)?e:new Error(e)}})),"object"==typeof t&&t&&!t.nodeType&&t&&"object"==typeof module&&module&&!module.nodeType&&module;function zc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(zc.Cache||Uc),r}zc.Cache=Uc;var Lc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bc=/\\(\\)?/g;!function(e){var t=zc((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Lc,(function(e,r,n,o){t.push(n?o.replace(Bc,"$1"):r||e)})),t}),(function(e){return 500===t.size&&t.clear(),e})).cache}();const Jc={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Gc(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function qc(e,t,r){return[e,t,r]}function Vc(){return qc(1,1,1)}function Wc(){return qc(1,0,0)}function Kc(){return qc(0,1,0)}function Yc(){return qc(0,0,1)}const Hc=Vc(),Qc=Wc(),Zc=Kc(),Xc=Yc();Object.freeze(Object.defineProperty({__proto__:null,ONES:Hc,UNIT_X:Qc,UNIT_Y:Zc,UNIT_Z:Xc,ZEROS:[0,0,0],clone:function(e){return[e[0],e[1],e[2]]},create:function(){return[0,0,0]},createView:function(e,t){return new Float64Array(e,t,3)},fromArray:function(e){const t=[0,0,0],r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t},fromValues:qc,ones:Vc,unitX:Wc,unitY:Kc,unitZ:Yc,zeros:function(){return[0,0,0]}},Symbol.toStringTag,{value:"Module"}));let el=1e-6;function tl(){return el}const rl=Math.random,nl=Math.PI/180,ol=180/Math.PI;function il(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function al(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function sl(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function cl(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function ll(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function ul(e,t){const r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(r*r+n*n+o*o)}function fl(e,t){const r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2];return r*r+n*n+o*o}function dl(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function hl(e,t){const r=t[0],n=t[1],o=t[2];let i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function pl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:rl,equals:function(e,t){return Math.abs(e-t)<=el*Math.max(1,Math.abs(e),Math.abs(t))},getEpsilon:tl,setEpsilon:function(e){el=e},toDegree:function(e){return e*ol},toRadian:function(e){return e*nl}},Symbol.toStringTag,{value:"Module"}));const gl=[0,0,0],ml=[0,0,0],yl=sl,bl=cl,vl=ll,wl=ul,_l=fl,jl=il,$l=dl;function Sl(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Pl(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Ol(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function kl(e,t){const r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(r*r+n*n+o*o+i*i)}function Ml(e,t){const r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+o*o+i*i}function El(e){const t=e[0],r=e[1],n=e[2],o=e[3];return Math.sqrt(t*t+r*r+n*n+o*o)}function Al(e){const t=e[0],r=e[1],n=e[2],o=e[3];return t*t+r*r+n*n+o*o}Object.freeze(Object.defineProperty({__proto__:null,abs:function(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},angle:function(e,t){al(gl,e),al(ml,t),hl(gl,gl),hl(ml,ml);const r=pl(gl,ml);return r>1?0:r<-1?Math.PI:Math.acos(r)},bezier:function(e,t,r,n,o,i){const a=1-i,s=a*a,c=i*i,l=s*a,u=3*i*s,f=3*c*a,d=c*i;return e[0]=t[0]*l+r[0]*u+n[0]*f+o[0]*d,e[1]=t[1]*l+r[1]*u+n[1]*f+o[1]*d,e[2]=t[2]*l+r[2]*u+n[2]*f+o[2]*d,e},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},copy:al,cross:function(e,t,r){const n=t[0],o=t[1],i=t[2],a=r[0],s=r[1],c=r[2];return e[0]=o*c-i*s,e[1]=i*a-n*c,e[2]=n*s-o*a,e},direction:function(e,t,r){const n=r[0]-t[0],o=r[1]-t[1],i=r[2]-t[2];let a=n*n+o*o+i*i;return a>0?(a=1/Math.sqrt(a),e[0]=n*a,e[1]=o*a,e[2]=i*a,e):(e[0]=0,e[1]=0,e[2]=0,e)},dist:wl,distance:ul,div:vl,divide:ll,dot:pl,equals:function(e,t){if(e===t)return!0;const r=e[0],n=e[1],o=e[2],i=t[0],a=t[1],s=t[2],c=tl();return Math.abs(r-i)<=c*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=c*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=c*Math.max(1,Math.abs(o),Math.abs(s))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},hermite:function(e,t,r,n,o,i){const a=i*i,s=a*(2*i-3)+1,c=a*(i-2)+i,l=a*(i-1),u=a*(3-2*i);return e[0]=t[0]*s+r[0]*c+n[0]*l+o[0]*u,e[1]=t[1]*s+r[1]*c+n[1]*l+o[1]*u,e[2]=t[2]*s+r[2]*c+n[2]*l+o[2]*u,e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},len:jl,length:il,lerp:function(e,t,r,n){const o=t[0],i=t[1],a=t[2];return e[0]=o+n*(r[0]-o),e[1]=i+n*(r[1]-i),e[2]=a+n*(r[2]-a),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},mul:bl,multiply:cl,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},normalize:hl,random:function(e,t){t=t||1;const r=rl,n=2*r()*Math.PI,o=2*r()-1,i=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=o*t,e},rotateX:function(e,t,r,n){const o=[],i=[];return o[0]=t[0]-r[0],o[1]=t[1]-r[1],o[2]=t[2]-r[2],i[0]=o[0],i[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),i[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateY:function(e,t,r,n){const o=[],i=[];return o[0]=t[0]-r[0],o[1]=t[1]-r[1],o[2]=t[2]-r[2],i[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),i[1]=o[1],i[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateZ:function(e,t,r,n){const o=[],i=[];return o[0]=t[0]-r[0],o[1]=t[1]-r[1],o[2]=t[2]-r[2],i[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),i[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),i[2]=o[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e},set:function(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e},sign:function(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e},sqrDist:_l,sqrLen:$l,squaredDistance:fl,squaredLength:dl,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},sub:yl,subtract:sl,transformMat3:function(e,t,r){const n=t[0],o=t[1],i=t[2];return e[0]=n*r[0]+o*r[3]+i*r[6],e[1]=n*r[1]+o*r[4]+i*r[7],e[2]=n*r[2]+o*r[5]+i*r[8],e},transformMat4:function(e,t,r){const n=t[0],o=t[1],i=t[2];return e[0]=r[0]*n+r[4]*o+r[8]*i+r[12],e[1]=r[1]*n+r[5]*o+r[9]*i+r[13],e[2]=r[2]*n+r[6]*o+r[10]*i+r[14],e},transformQuat:function(e,t,r){const n=r[0],o=r[1],i=r[2],a=r[3],s=t[0],c=t[1],l=t[2];let u=o*l-i*c,f=i*s-n*l,d=n*c-o*s,h=o*d-i*f,p=i*u-n*d,g=n*f-o*u;const m=2*a;return u*=m,f*=m,d*=m,h*=2,p*=2,g*=2,e[0]=s+u+h,e[1]=c+f+p,e[2]=l+d+g,e}},Symbol.toStringTag,{value:"Module"}));const Cl=Sl,Tl=Pl,xl=Ol,Rl=kl,Il=Ml,Fl=El,Nl=Al;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},dist:Rl,distance:kl,div:xl,divide:Ol,dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},equals:function(e,t){const r=e[0],n=e[1],o=e[2],i=e[3],a=t[0],s=t[1],c=t[2],l=t[3],u=tl();return Math.abs(r-a)<=u*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=u*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-c)<=u*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-l)<=u*Math.max(1,Math.abs(i),Math.abs(l))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:Fl,length:El,lerp:function(e,t,r,n){const o=t[0],i=t[1],a=t[2],s=t[3];return e[0]=o+n*(r[0]-o),e[1]=i+n*(r[1]-i),e[2]=a+n*(r[2]-a),e[3]=s+n*(r[3]-s),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},mul:Tl,multiply:Pl,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:function(e,t){const r=t[0],n=t[1],o=t[2],i=t[3];let a=r*r+n*n+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=o*a,e[3]=i*a),e},random:function(e,t){const r=rl;let n,o,i,a,s,c;t=t||1;do{n=2*r()-1,o=2*r()-1,s=n*n+o*o}while(s>=1);do{i=2*r()-1,a=2*r()-1,c=i*i+a*a}while(c>=1);const l=Math.sqrt((1-s)/c);return e[0]=t*n,e[1]=t*o,e[2]=t*i*l,e[3]=t*a*l,e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},set:function(e,t,r,n,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=o,e},sqrDist:Il,sqrLen:Nl,squaredDistance:Ml,squaredLength:Al,str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:Cl,subtract:Sl,transformMat4:function(e,t,r){const n=t[0],o=t[1],i=t[2],a=t[3];return e[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,e[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,e[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,e[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,e},transformQuat:function(e,t,r){const n=t[0],o=t[1],i=t[2],a=r[0],s=r[1],c=r[2],l=r[3],u=l*n+s*i-c*o,f=l*o+c*n-a*i,d=l*i+a*o-s*n,h=-a*n-s*o-c*i;return e[0]=u*l+h*-a+f*-c-d*-s,e[1]=f*l+h*-s+d*-a-u*-c,e[2]=d*l+h*-c+u*-s-f*-a,e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}));const Dl=new Float32Array(1),Ul=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),zl=BigInt("1000000");let Ll;function Bl(e){return"function"==typeof Ll[e]?Ll[e]=Ll[e](globalThis):Ll[e]}function Jl(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=function(e){if(function(e){return"Int8Array"===e?.constructor?.name}(e)||function(e){return"Uint8Array"===e?.constructor?.name}(e)||function(e){return"Uint8ClampedArray"===e?.constructor?.name}(e)||function(e){return"Int16Array"===e?.constructor?.name}(e)||function(e){return"Uint16Array"===e?.constructor?.name}(e)||function(e){return"Int32Array"===e?.constructor?.name}(e)||function(e){return"Uint32Array"===e?.constructor?.name}(e)||function(e){return"Float32Array"===e?.constructor?.name}(e)||function(e){return"Float64Array"===e?.constructor?.name}(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,Jl(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(Jl(r));return t}return null}(e);if(null!=t)return t;if(function(e){return"function"==typeof e.clone}(e))return e.clone();if(function(e){return"function"==typeof e.map&&"function"==typeof e.forEach}(e))return e.map(Jl);if(function(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}(e))return e.clone();const r={};for(const t of Object.getOwnPropertyNames(e))r[t]=Jl(e[t]);return r}function Gl(e,t,r){return t?Object.keys(t).reduce(((e,n)=>{let o=e[n],i=t[n];return o===i?e:void 0===o?(e[n]=Jl(i),e):(Array.isArray(i)||Array.isArray(e)?(o=o?Array.isArray(o)?e[n]=o.concat():e[n]=[o]:e[n]=[],i&&(Array.isArray(i)||(i=[i]),r?i.forEach((e=>{o.includes(e)||o.push(e)})):e[n]=i.concat())):i&&"object"==typeof i?e[n]=Gl(o,i,r):e.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(e[n]=i),e)}),e||{}):e}!function(e){const t=function(e){return Ul.setFloat64(0,e),Ul.getBigInt64(0)}(e=Math.abs(e)),r=function(e){return Ul.setBigInt64(0,e),Ul.getFloat64(0)}(t<=zl?zl:t-zl);Math.abs(e-r)}(1),Dl[0]=34028234663852886e22,Dl[0],Ll=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},Bl.add=(e,t,r,n)=>((n||void 0===Ll[e])&&(Ll[e]=t),r&&Bl(e)),Bl.cache=Ll,Bl.add("esri-deprecation-warnings",!0),Bl.add("esri-force-fullscreen-debug",!1),(()=>{Bl.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(Bl.add("host-browser",e),Bl.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),Bl.add("dom",e),Bl("host-browser")){const e=navigator,t=e.userAgent,r=e.appVersion,n=parseFloat(r);if(Bl.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),Bl.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),Bl.add("khtml",r.includes("Konqueror")?n:void 0),Bl.add("edge",parseFloat(t.split("Edge/")[1])||void 0),Bl.add("opr",parseFloat(t.split("OPR/")[1])||void 0),Bl.add("webkit",!Bl("wp")&&!Bl("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),Bl.add("chrome",!Bl("edge")&&!Bl("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),Bl.add("android",!Bl("wp")&&parseFloat(t.split("Android ")[1])||void 0),Bl.add("safari",!r.includes("Safari")||Bl("wp")||Bl("chrome")||Bl("android")||Bl("edge")||Bl("opr")?void 0:parseFloat(r.split("Version/")[1])),Bl.add("mac",r.includes("Macintosh")),!Bl("wp")&&/(iPhone|iPod|iPad)/.test(t)){const e=RegExp.$1.replace(/P/,"p"),r=/OS ([\d_]+)/.test(t)?RegExp.$1:"1",n=parseFloat(r.replace(/_/,".").replaceAll("_",""));Bl.add(e,n),Bl.add("ios",n)}Bl("webkit")||(!t.includes("Gecko")||Bl("wp")||Bl("khtml")||Bl("edge")||Bl.add("mozilla",n),Bl("mozilla")&&Bl.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&Bl.add("esri-mobile",t),r&&Bl.add("esri-iPhone",r),Bl.add("esri-geolocation",!!navigator.geolocation)}Bl.add("esri-wasm","WebAssembly"in globalThis),Bl.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),Bl.add("wasm-simd",(()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))),Bl.add("esri-atomics","Atomics"in globalThis),Bl.add("esri-workers","Worker"in globalThis),Bl.add("web-feat:cache","caches"in globalThis),Bl.add("esri-workers-arraybuffer-transfer",!Bl("safari")||Number(Bl("safari"))>=12),Bl.add("workers-pool-size",8),Bl.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Bl.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Bl.add("featurelayer-animation-enabled",!0),Bl.add("featurelayer-snapshot-enabled",!0),Bl.add("featurelayer-snapshot-point-min-threshold",8e4),Bl.add("featurelayer-snapshot-point-max-threshold",4e5),Bl.add("featurelayer-snapshot-point-coverage",.1),Bl.add("featurelayer-advanced-symbols",!1),Bl.add("featurelayer-pbf",!0),Bl.add("featurelayer-pbf-statistics",!1),Bl.add("feature-layers-workers",!0),Bl.add("feature-polyline-generalization-factor",1),Bl.add("mapview-transitions-duration",200),Bl.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Bl.add("mapserver-pbf-version-support",10.81),Bl.add("mapservice-popup-identify-max-tolerance",20),Bl.add("heatmap-allow-raster-fallback",!1),Bl.add("heatmap-force-raster",!1),Bl("host-webworker")||Bl("host-browser")&&(Bl.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),Bl.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{Bl.add("esri-image-decode",!0,!0,!0)})).catch((()=>{Bl.add("esri-image-decode",!1,!0,!0)}))}return!1})),Bl.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})();const ql={analysisTheme:{accentColor:[255,127,0],textColor:"white"},apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(function(e,t,r=!1){Gl(e,t,r)}(ql,globalThis.esriConfig,!0),delete ql.has),!ql.assetsPath){{const e="4.27.0";ql.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@${e}-next.20230526/assets`}ql.defaultAssetsPath=ql.assetsPath}const Vl={info:0,warn:1,error:2,none:3};class Wl{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,Wl._loggers.set(this.module,this);const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=Wl.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(e=new Map){const t=Wl._loggers;return Wl._loggers=e,t},set throttlingDisabled(e){Wl._throttlingDisabled=e}}}static getLogger(e){return e="string"!=typeof e?e.declaredClass:e,Wl._loggers.get(e)||new Wl({module:e})}_log(e,t,...r){if(this._matchLevel(e)){if("always"!==t&&!Wl._throttlingDisabled){const n=this._argsToKey(r),o=this._loggedMessages[e].get(n);if("once"===t&&null!=o||"oncePerTick"===t&&o&&o>=Wl._tickCounter)return;this._loggedMessages[e].set(n,Wl._tickCounter),Wl._scheduleTickCounterIncrement()}for(const t of ql.log.interceptors)if(t(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,t){let r=this;for(;null!=r;){const t=r[e];if(null!=t)return t;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e](`[${t}]`,...r)}_matchLevel(e){const t=ql.log.level||"warn";return Vl[this._parentWithMember("level",t)]<=Vl[e]}_argsToKey(...e){return function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){Wl._tickCounterScheduled||(Wl._tickCounterScheduled=!0,Promise.resolve().then((()=>{Wl._tickCounter++,Wl._tickCounterScheduled=!1})))}}function Kl(e){return function(e,t,r){return Math.min(Math.max(e,0),255)}(null==(t=e)?t:Math.round(parseFloat(t)));var t}function Yl(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}Wl._loggers=new Map,Wl._tickCounter=0,Wl._tickCounterScheduled=!1,Wl._throttlingDisabled=!1,Wl.getLogger("esri.core.accessorSupport.ensureTypes");class Hl{static blendColors(e,t,r,n=new Hl){return n.r=Math.round(e.r+(t.r-e.r)*r),n.g=Math.round(e.g+(t.g-e.g)*r),n.b=Math.round(e.b+(t.b-e.b)*r),n.a=e.a+(t.a-e.a)*r,n._sanitize()}static fromRgb(e,t){const r=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){const e=r[2].split(/\s*,\s*/),n=r[1];if("rgb"===n&&3===e.length||"rgba"===n&&4===e.length){const r=e[0];if("%"===r.charAt(r.length-1)){const r=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(r[3]=parseFloat(e[3])),Hl.fromArray(r,t)}return Hl.fromArray(e.map((e=>parseFloat(e))),t)}if("hsl"===n&&3===e.length||"hsla"===n&&4===e.length)return Hl.fromArray(function(e,t,r,n=1){const o=(e%360+360)%360/360,i=r<=.5?r*(t+1):r+t-r*t,a=2*r-i;return[Math.round(255*Gc(a,i,o+1/3)),Math.round(255*Gc(a,i,o)),Math.round(255*Gc(a,i,o-1/3)),n]}(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),t)}return null}static fromHex(e,t=new Hl){if(4!==e.length&&7!==e.length||"#"!==e[0])return null;const r=4===e.length?4:8,n=(1<<r)-1;let o=Number("0x"+e.substr(1));return isNaN(o)?null:(["b","g","r"].forEach((e=>{const i=o&n;o>>=r,t[e]=4===r?17*i:i})),t.a=1,t)}static fromArray(e,t=new Hl){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const r=Jc[n=e]||Jc[n.toLowerCase()]?function(e){return Jc[e]??Jc[e.toLowerCase()]}(e):null;var n;return r&&Hl.fromArray(r,t)||Hl.fromRgb(e,t)||Hl.fromHex(e,t)}static fromJSON(e){return e&&new Hl([e[0],e[1],e[2],e[3]/255])}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?Hl.fromString(e,this):Array.isArray(e)?Hl.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Hl||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return`#${e.length<2?"0"+e:e}${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}`}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=Hl.AlphaMode.ALWAYS){const t=Kl(this.r),r=Kl(this.g),n=Kl(this.b);return e===Hl.AlphaMode.ALWAYS||1!==this.a?[t,r,n,Kl(255*this.a)]:[t,r,n]}clone(){return new Hl(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(Yl(this.r,0,255)),this.g=Math.round(Yl(this.g,0,255)),this.b=Math.round(Yl(this.b,0,255)),this.a=Yl(this.a,0,1),this}_set(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n}}Hl.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Hl||(Hl={})),new class{constructor(e,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(e),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,r)=>{const n=this.toJSON(e);void 0!==n&&function(e,t,r){const n=e.split("."),o=n.pop(),i=function(e,t,r){let n=r;for(const t of e){if(null==n)return;t in n||(n[t]={}),n=n[t]}return n}(n,0,r);i&&o&&(i[o]=t)}(r,n,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?void 0:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}_invertMap(e){const t={};for(const r in e)t[e[r]]=r;return t}_getKeysSorted(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}}({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});let Ql,Zl,Xl=null,eu=!1;const tu={},ru=e=>"object"==(e=typeof e)||"function"===e,nu=(e,t,...r)=>{let n=null,o=null,i=!1,a=!1;const s=[],c=t=>{for(let r=0;r<t.length;r++)n=t[r],Array.isArray(n)?c(n):null!=n&&"boolean"!=typeof n&&((i="function"!=typeof e&&!ru(n))&&(n=String(n)),i&&a?s[s.length-1].$text$+=n:s.push(i?ou(null,n):n),a=i)};if(c(r),t){t.key&&(o=t.key);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,s,au);const l=ou(e,null);return l.$attrs$=t,s.length>0&&(l.$children$=s),l.$key$=o,l},ou=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null}),iu={},au={forEach:(e,t)=>e.map(su).forEach(t),map:(e,t)=>e.map(su).map(t).map(cu)},su=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),cu=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),nu(e.vtag,t,...e.vchildren||[])}const t=ou(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},lu=new WeakMap,uu=(e,t)=>"sc-"+e.$tagName$,fu=(e,t,r,n,o,i)=>{if(r!==n){let a=Fu(e,t),s=t.toLowerCase();if("class"===t){const t=e.classList,o=hu(r),i=hu(n);t.remove(...o.filter((e=>e&&!i.includes(e)))),t.add(...i.filter((e=>e&&!o.includes(e))))}else if("style"===t){for(const t in r)n&&null!=n[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in n)r&&n[t]===r[t]||(t.includes("-")?e.style.setProperty(t,n[t]):e.style[t]=n[t])}else if("key"===t);else if("ref"===t)n&&n(e);else if(a||"o"!==t[0]||"n"!==t[1]){const s=ru(n);if((a||s&&null!==n)&&!o)try{if(e.tagName.includes("-"))e[t]=n;else{const o=null==n?"":n;"list"===t?a=!1:null!=r&&e[t]==o||(e[t]=o)}}catch(e){}null==n||!1===n?!1===n&&""!==e.getAttribute(t)||e.removeAttribute(t):(!a||4&i||o)&&!s&&(n=!0===n?"":n,e.setAttribute(t,n))}else if(t="-"===t[2]?t.slice(3):Fu(Uu,s)?s.slice(2):s[2]+t.slice(3),r||n){const o=t.endsWith(pu);t=t.replace(gu,""),r&&Lu.rel(e,t,r,o),n&&Lu.ael(e,t,n,o)}}},du=/\s/,hu=e=>e?e.split(du):[],pu="Capture",gu=new RegExp(pu+"$"),mu=(e,t,r,n)=>{const o=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||tu,a=t.$attrs$||tu;for(n in i)n in a||fu(o,n,i[n],void 0,r,t.$flags$);for(n in a)fu(o,n,i[n],a[n],r,t.$flags$)},yu=(e,t,r,n)=>{const o=t.$children$[r];let i,a,s=0;if(null!==o.$text$)i=o.$elm$=zu.createTextNode(o.$text$);else if(i=o.$elm$=zu.createElement(o.$tag$),mu(null,o,!1),null!=Ql&&i["s-si"]!==Ql&&i.classList.add(i["s-si"]=Ql),o.$children$)for(s=0;s<o.$children$.length;++s)a=yu(e,o,s),a&&i.appendChild(a);return i},bu=(e,t,r,n,o,i)=>{let a,s=e;for(s.shadowRoot&&s.tagName===Zl&&(s=s.shadowRoot);o<=i;++o)n[o]&&(a=yu(null,r,o),a&&(n[o].$elm$=a,s.insertBefore(a,t)))},vu=(e,t,r)=>{for(let n=t;n<=r;++n){const t=e[n];if(t){const e=t.$elm$;ju(t),e&&e.remove()}}},wu=(e,t)=>e.$tag$===t.$tag$&&e.$key$===t.$key$,_u=(e,t)=>{const r=t.$elm$=e.$elm$,n=e.$children$,o=t.$children$,i=t.$tag$,a=t.$text$;null===a?("slot"===i||mu(e,t,!1),null!==n&&null!==o?((e,t,r,n)=>{let o,i,a=0,s=0,c=0,l=0,u=t.length-1,f=t[0],d=t[u],h=n.length-1,p=n[0],g=n[h];for(;a<=u&&s<=h;)if(null==f)f=t[++a];else if(null==d)d=t[--u];else if(null==p)p=n[++s];else if(null==g)g=n[--h];else if(wu(f,p))_u(f,p),f=t[++a],p=n[++s];else if(wu(d,g))_u(d,g),d=t[--u],g=n[--h];else if(wu(f,g))_u(f,g),e.insertBefore(f.$elm$,d.$elm$.nextSibling),f=t[++a],g=n[--h];else if(wu(d,p))_u(d,p),e.insertBefore(d.$elm$,f.$elm$),d=t[--u],p=n[++s];else{for(c=-1,l=a;l<=u;++l)if(t[l]&&null!==t[l].$key$&&t[l].$key$===p.$key$){c=l;break}c>=0?(i=t[c],i.$tag$!==p.$tag$?o=yu(t&&t[s],r,c):(_u(i,p),t[c]=void 0,o=i.$elm$),p=n[++s]):(o=yu(t&&t[s],r,s),p=n[++s]),o&&f.$elm$.parentNode.insertBefore(o,f.$elm$)}a>u?bu(e,null==n[h+1]?null:n[h+1].$elm$,r,n,s,h):s>h&&vu(t,a,u)})(r,n,t,o):null!==o?(null!==e.$text$&&(r.textContent=""),bu(r,null,t,o,0,o.length-1)):null!==n&&vu(n,0,n.length-1)):e.$text$!==a&&(r.data=a)},ju=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(ju)},$u=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return((e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.$onRenderResolve$=t)))})(e,e.$ancestorComponent$),Wu((()=>Su(e,t)));e.$flags$|=512},Su=(e,t)=>{const r=(e.$cmpMeta$.$tagName$,()=>{}),n=e.$lazyInstance$;let o;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((([e,t])=>Tu(n,e,t))),e.$queuedListeners$=void 0),o=Tu(n,"componentWillLoad")),o=Pu(o,(()=>Tu(n,"componentWillRender"))),r(),Pu(o,(()=>ku(e,n,t)))},Pu=(e,t)=>Ou(e)?e.then(t):t(),Ou=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,ku=async(e,t,r)=>{var n;const o=e.$hostElement$,i=(e.$cmpMeta$.$tagName$,()=>{}),a=o["s-rc"];r&&(e=>{const t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,o=(t.$tagName$,()=>{}),i=((e,t,r)=>{var n;const o=uu(t),i=Du.get(o);if(e=11===e.nodeType?e:zu,i)if("string"==typeof i){e=e.head||e;let r,a=lu.get(e);if(a||lu.set(e,a=new Set),!a.has(o)){{r=zu.createElement("style"),r.innerHTML=i;const t=null!==(n=Lu.$nonce$)&&void 0!==n?n:function(e){var t,r,n;return null!==(n=null===(r=null===(t=e.head)||void 0===t?void 0:t.querySelector('meta[name="csp-nonce"]'))||void 0===r?void 0:r.getAttribute("content"))&&void 0!==n?n:void 0}(zu);null!=t&&r.setAttribute("nonce",t),e.insertBefore(r,e.querySelector("link"))}4&t.$flags$&&(r.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),a&&a.add(o)}}else e.adoptedStyleSheets.includes(i)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return o})(r.shadowRoot?r.shadowRoot:r.getRootNode(),t);10&n&&(r["s-sc"]=i,r.classList.add(i+"-h")),o()})(e);const s=(e.$cmpMeta$.$tagName$,()=>{});Mu(e,t,o,r),a&&(a.map((e=>e())),o["s-rc"]=void 0),s(),i();{const t=null!==(n=o["s-p"])&&void 0!==n?n:[],r=()=>Eu(e);0===t.length?r():(Promise.all(t).then(r),e.$flags$|=4,t.length=0)}},Mu=(e,t,r,n)=>{try{Xl=t,t=t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t,r=!1)=>{const n=e.$hostElement$,o=e.$cmpMeta$,i=e.$vnode$||ou(null,null),a=(s=t)&&s.$tag$===iu?t:nu(null,null,t);var s;if(Zl=n.tagName,o.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},o.$attrsToReflect$.map((([e,t])=>a.$attrs$[t]=n[e]))),r&&a.$attrs$)for(const e of Object.keys(a.$attrs$))n.hasAttribute(e)&&!["key","ref","style","class"].includes(e)&&(a.$attrs$[e]=n[e]);a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=i.$elm$=n.shadowRoot||n,Ql=n["s-sc"],_u(i,a)})(e,t,n)}catch(t){Nu(t,e.$hostElement$)}return Xl=null,null},Eu=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,r=e.$lazyInstance$,n=e.$ancestorComponent$;Tu(r,"componentDidRender"),64&e.$flags$?Tu(r,"componentDidUpdate"):(e.$flags$|=64,xu(t),Tu(r,"componentDidLoad"),e.$onReadyResolve$(t),n||Cu()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Vu((()=>$u(e,!1))),e.$flags$&=-517},Au=e=>{{const t=Iu(e),r=t.$hostElement$.isConnected;return r&&2==(18&t.$flags$)&&$u(t,!1),r}},Cu=e=>{xu(zu.documentElement),Vu((()=>((e,t,r)=>{const n=Lu.ce("appload",{detail:{namespace:"raster-function-editor"}});return e.dispatchEvent(n),n})(Uu)))},Tu=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(e){Nu(e)}},xu=e=>e.classList.add("hydrated"),Ru=new WeakMap,Iu=e=>Ru.get(e),Fu=(e,t)=>t in e,Nu=(e,t)=>(0,console.error)(e,t),Du=new Map,Uu="undefined"!=typeof window?window:{},zu=Uu.document||{head:{}},Lu={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},Bu=[],Ju=[],Gu=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){Nu(e)}e.length=0},qu=()=>{Gu(Bu),Gu(Ju),(eu=Bu.length>0)&&Lu.raf(qu)},Vu=e=>Promise.resolve(undefined).then(e),Wu=(Ku=Ju,!0,e=>{Ku.push(e),eu||(eu=!0,4&Lu.$flags$?Vu(qu):Lu.raf(qu))});var Ku;const Yu=e=>!("isConnected"in e)||e.isConnected,Hu=((e,t)=>{let r;return(...e)=>{r&&clearTimeout(r),r=setTimeout((()=>{r=0,(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(Yu))})(...e)}),2e3)}})(),Qu=e=>"function"==typeof e?e():e,Zu=((e,t)=>{const r=((e,t=((e,t)=>e!==t))=>{const r=Qu(e);let n=new Map(Object.entries(null!=r?r:{}));const o={dispose:[],get:[],set:[],reset:[]},i=()=>{var t;n=new Map(Object.entries(null!==(t=Qu(e))&&void 0!==t?t:{})),o.reset.forEach((e=>e()))},a=e=>(o.get.forEach((t=>t(e))),n.get(e)),s=(e,r)=>{const i=n.get(e);t(r,i,e)&&(n.set(e,r),o.set.forEach((t=>t(e,r,i))))},c="undefined"==typeof Proxy?{}:new Proxy(r,{get:(e,t)=>a(t),ownKeys:e=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>n.has(t),set:(e,t,r)=>(s(t,r),!0)}),l=(e,t)=>(o[e].push(t),()=>{((e,t)=>{const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.length--)})(o[e],t)});return{state:c,get:a,set:s,on:l,onChange:(t,r)=>{const n=l("set",((e,n)=>{e===t&&r(n)})),o=l("reset",(()=>r(Qu(e)[t])));return()=>{n(),o()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(l("set",t.set)),t.get&&e.push(l("get",t.get)),t.reset&&e.push(l("reset",t.reset)),t.dispose&&e.push(l("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{o.dispose.forEach((e=>e())),i()},reset:i,forceUpdate:e=>{const t=n.get(e);o.set.forEach((r=>r(e,t,t)))}}})({portal:void 0,portalItem:void 0,rftJSON:void 0,rftProperties:void 0,hasUnsavedChanges:!1,canUpdateItem:!1},void 0);return r.use((()=>{const e=new Map;return{dispose:()=>e.clear(),get:t=>{Xl&&((e,t,r)=>{const n=e.get(t);n?n.includes(r)||n.push(r):e.set(t,[r])})(e,t,Xl)},set:t=>{const r=e.get(t);r&&e.set(t,r.filter(Au)),Hu(e)},reset:()=>{e.forEach((e=>e.forEach(Au))),Hu(e)}}})()),r})(),Xu=Zu.state;function ef(e){e??(e="standard");let t="";return t="raster"===e?"_ra":"",t}function tf(e){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[e]||e}function rf(e,t){return $r(e,t)}Zu.onChange("portalItem",(async e=>{void 0!==e&&(await e.load(),"admin"!==e.itemControl&&"update"!==e.itemControl?Xu.canUpdateItem=!1:Xu.canUpdateItem=!0)})),dr((e=>{const t={};let r;if(void 0!==e.featureSet){if(t.source=Z.default.fromJSON(e.featureSet).features,r=e.layerDefinition,void 0!==r.fields&&(t.fields=r.fields.map((e=>H.default.fromJSON(e)))),void 0!==r.objectIdField&&(t.objectIdField=r.objectIdField),void 0!==r.geometryType){let e="point";switch(r.geometryType){case"esriGeometryMultipoint":e="multipoint";break;case"esriGeometryPoint":e="point";break;case"esriGeometryPolygon":e="polygon";break;case"esriGeometryPolyline":e="polyline"}t.geometryType=e}void 0!==r.spatialReference&&(t.spatialReference=r.spatialReference),void 0!==r.drawingInfo?.renderer&&(t.renderer=Q.default.fromJSON(r.drawingInfo.renderer))}return new K.default(t)})),dr((async(e,t)=>{let r=!1;if(!0===window.location.href.includes("://localhost:")||void 0===t)r=!0;else{const n=`${e}${e.indexOf("?")>-1?"&":"?"}f=json`;X.default.request.proxyUrl=`${t}/sharing/proxy`;try{r=!1===wi((await _i(n,{useProxy:!0})).data)}catch(e){r=!1}}return!0===r?e:void 0})),dr((async e=>{const{locale:t,name:r,assetPrefix:n,analysisEngine:o,memoizedHelper:i}=e,a=`${r.toLowerCase()}${ef(o)}`;let s,c,l,u;const f=`${n}/tool-ui-json/${a}.tool.ui.json`,d=`${n}/tool-json/${a}.tool.json`,h=`${n}/t9n/${a}/${a}.t9n.${t}.json`,p=`${n}/t9n/common.t9n.${t}.json`;let g=t;t===ji.English||t===ji.EnglishUSA?g="":g===ji.NorwegianBokml&&(g="no");const m=`${n}/help/${""!==g?g+"/":""}${r}${ef(o)}.html`;try{u=await i(d),s=await i(f),c=await i(h),l=await i(p),c={...l,...c}}catch{s=void 0}return{toolJson:u,toolUIJson:s,toolT9n:c,toolHelpFilePath:m}})),Ba((async e=>{const{url:t}=e,r=`${t}/sharing/rest/community/self`,n=W.default.findCredential(r);let o;void 0!==n&&(o=n.token);const i={query:{returnUserLicensedItems:!0,token:o,f:"json"}};try{const{data:{userLicensedItems:e}}=await _i(r,i);return[...e.map((({entitlements:e})=>e))].flat()}catch(e){await Ga(Ai)}return[]}),{serializer:e=>`${e.user.username}`}),Ba((async e=>{let t={isMultidimensional:!1};const r="imagery-tile"===e.type?e.rasterInfo.multidimensionalInfo:e.multidimensionalInfo,n=e.multidimensionalSubset;if(null!=r){const o=null!=n?e.getMultidimensionalSubsetVariables():r.variables;if(void 0!==o&&o.length>0){const e=[],r=[],n={},i={},a={},s={},c={},l={},u={};o.forEach(((t,o)=>{let a="";const f=t.name;t.dimensions.forEach(((t,r)=>{const d=t.name;-1===e.indexOf(d)&&e.push(d);const h=r>0?`,${d}=${t.values?.length}`:`${d}=${t.values?.length}`;if(a=a.concat(h),0===r&&(i[f]={}),void 0===n[d]&&(n[d]=[]),i[f][d]=t.values,0===o){const e=t.values;if(void 0!==e)if("StdTime"!==d||void 0!==t.unit&&"ISO8601"!==t.unit)Array.isArray(e)&&"number"==typeof e[0]?s[d]=c[d]=e.map(String):Array.isArray(e[0])&&Array.isArray(e[1])&&(s[d]=e[0].map(String),c[d]=e[1].map(String));else{const t=[],r=[],n={},o={};e.forEach((e=>{if("number"==typeof e){const i=new Date(e),a=i.toLocaleString(),s=i.toISOString();t.push(s),r.push(s),n[s]=a,o[s]=a}else if(Array.isArray(e)){const i=new Date(e[0]),a=new Date(e[1]),s=i.toISOString(),c=a.toISOString();t.push(s),r.push(c),n[s]=i.toLocaleString(),o[c]=a.toLocaleString()}})),s[d]=t,c[d]=r,l[d]=n,u[d]=o}}n[d].push(f)})),r.push({name:f,alias:`${f}[${a}](${t.description})`,type:"string"})}));for(const e in n){const t=r.filter((t=>n[e].indexOf(t.name)>-1));a[e]={id:"1",name:e,description:"DimensionVariables",getFields:()=>Promise.resolve(t)}}t={isMultidimensional:!0,dimensions:e,dimensionVariableDatasets:a,dimensionValues:i,variablesDataset:{id:"1",name:"Variables",description:"Variables",getFields:()=>Promise.resolve(r)},dimensionMinValues:s,dimensionMaxValues:c,dimensionMinValuesWithLabels:l,dimensionMaxValuesWithLabels:u}}}const o="imagery"===e.type?await e.generateRasterInfo(e.renderingRule):e.rasterInfo;return t.rasterInfo=o,t}));const nf=async e=>{const{asyncGeocodeUrl:t}=e,r=await G.submitJob(`${t}/AnalyzeGeocodeInput`,{...ti(e,"asyncGeocodeUrl"),f:"json"});return await r.waitForJobCompletion(),(await r.fetchResultData("geocodeParameters")).value},of=Ba(((e,t)=>new Y.default({id:e,portal:t})),{serializer:e=>`${e[0]}-${e[1]?.url}`});Ba((async e=>{const{restUrl:t}=e,r=`${t}/portals/helpmap`;let n;try{const e=await q.default(r,{query:{f:"json"},responseType:"json",method:"auto"});n=await(e.data?.helpMap)??void 0}catch(e){n=void 0}return n}),{serializer:e=>`${e[0]}-${e[1]?.url}`});const af="esriExecutionTypeAsynchronous",sf="esriExecutionTypeSynchronous",cf={Standard:"standard",GeoAnalytics:"geoanalytics",Raster:"raster",Pipelines:"pipelines",Session:"session"};var lf={exports:{}};function uf(e,t,r,n){var o=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(n)?n:r(n),i=t.get(o);return void 0===i&&(i=e.call(this,n),t.set(o,i)),i}function ff(e,t,r){var n=Array.prototype.slice.call(arguments,3),o=r(n),i=t.get(o);return void 0===i&&(i=e.apply(this,n),t.set(o,i)),i}function df(e,t,r,n,o){return r.bind(t,e,n,o)}function hf(e,t){return df(e,this,1===e.length?uf:ff,t.cache.create(),t.serializer)}function pf(){return JSON.stringify(arguments)}function gf(){this.cache=Object.create(null)}gf.prototype.has=function(e){return e in this.cache},gf.prototype.get=function(e){return this.cache[e]},gf.prototype.set=function(e,t){this.cache[e]=t};var mf={create:function(){return new gf}};lf.exports=function(e,t){var r=t&&t.cache?t.cache:mf,n=t&&t.serializer?t.serializer:pf;return(t&&t.strategy?t.strategy:hf)(e,{cache:r,serializer:n})},lf.exports.strategies={variadic:function(e,t){return df(e,this,ff,t.cache.create(),t.serializer)},monadic:function(e,t){return df(e,this,uf,t.cache.create(),t.serializer)}};var yf=lf.exports;function bf(e,t,r=!1){let n=t.helperServices.analysis.url;switch(e){case cf.GeoAnalytics:n=t.helperServices.geoanalytics.url;break;case cf.Raster:n=t.helperServices.rasterAnalytics.url;break;case cf.Standard:n=r?t.helperServices.asyncGeocode.url:t.helperServices.analysis.url}return n}const vf=e=>{const t=Array.from(e).map((e=>{let t;return t="object"==typeof e&&void 0!==e.id?e.id:e,t}));return JSON.stringify(t)},wf=yf((async(e,t,r)=>{const n=`${bf(t,r,"BatchGeocode"===e)}/${e}?f=json`,o=await q.default(n,{responseType:"json",authMode:"no-prompt"}),i=await o.data;return i.parameters?.forEach((e=>{null===e.defaultValue&&(e.defaultValue=void 0)})),i}),{serializer:vf}),_f=yf((async(e,t)=>{const r=bf(e,t),n=await q.default(`${r}?f=json`,{responseType:"json"}),{data:{tasks:o}}=n,i=o.map((r=>wf(r,e,t)));return await Promise.all(i)}),{serializer:vf});yf((async(e,t)=>{let r=[];return r=void 0!==t?await _f(t,e):[...await _f(cf.Standard,e),...await _f(cf.Raster,e),...await _f(cf.GeoAnalytics,e)],new Map(r.map((e=>[e.name.toLowerCase(),e])))}),{serializer:vf});const jf=yf((async e=>{const{helperServices:t}=e;let r;if(void 0!==t.routingUtilities){const e=await G.execute(`${t.routingUtilities.url}/GetTravelModes?f=json`),{results:[{value:{features:n}},{value:o}]}=e;r={travelModes:n.map((e=>JSON.parse(e.attributes.TravelMode))),defaultTravelModeId:o}}return r}),{serializer:vf}),$f=yf((async e=>(await q.default(`${e}?f=json`,{responseType:"json"})).data)),Sf=yf((async(e,t)=>{const r=`${e}/${t}?f=json`,n=await q.default(r,{responseType:"json",authMode:"no-prompt"}),o=await(n?.data);return void 0!==o?.parameters&&o.parameters?.forEach((e=>{null===e.defaultValue&&(e.defaultValue=void 0)})),o}));yf((async e=>{const t=await q.default(`${e}?f=json`,{responseType:"json"}),{data:{tasks:r}}=t,n=r.map((t=>Sf(e,t)));return await Promise.all(n)}));const Pf=yf((async(e,t)=>{let r,n;try{r=await Sf(e,t),n=await $f(e)}catch(e){throw new ki(xi,"WebTool JSON failed to fetch.")}return r.serviceInfo=n,{...r,serviceInfo:n}})),Of={ResultDataComplete:"analysisCoreResultDataComplete",JobStatus:"analysisCoreJobStatus",CreditEstimateComplete:"creditEstimateComplete"};function kf(e){return{detail:e,composed:!0,cancelable:!0,bubbles:!0}}function Mf(e,t){e.dispatchEvent(new window.CustomEvent(Of.ResultDataComplete,kf(t)))}function Ef(e,t){e.dispatchEvent(new window.CustomEvent(Of.JobStatus,kf(t)))}const Af=[{toolName:"CreateViewshed",analysisEngine:cf.Standard},{toolName:"CreateWatersheds",analysisEngine:cf.Standard},{toolName:"TraceDownstream",analysisEngine:cf.Standard}];async function Cf(e){const{portal:t,jobParams:r,analysisEngine:n,toolName:i,toolElement:a}=e,s=bf(n??cf.Standard,t,"BatchGeocode"===i);let c=[];if(void 0!==Af.find((e=>e.toolName===i&&e.analysisEngine===n)))c=[{dateType:"string",value:{cost:0,totalRecords:0}}];else{let e="";switch(n){case cf.Raster:e=s+"/EstimateRasterAnalysisCost";break;case cf.Standard:e=s.replace("tasks/GPServer","Estimate/GPServer/EstimateCredits")}const t={};for(const e in r)"object"==typeof r[e]&&void 0!==r[e]?t[e]=JSON.stringify(r[e]):t[e]=r[e];const l=n===cf.Raster?{inputAnalysisTask:{name:i,parameters:t}}:{taskName:i,taskParameters:t},u=(await q.default(`${e}?f=json`,{responseType:"json"})).data,f=u?.parameters?.filter((e=>"esriGPParameterDirectionOutput"===e.direction));let d;switch(u.executionType){case sf:d=await o.execute(e,l),c=d.results;break;case af:{const t=await G.submitJob(e,l),r={interval:1500,statusCallback:e=>{Ef(a,{jobInfo:e})}};await t.waitForJobCompletion(r);const n=f?.map((e=>t.fetchResultData(e.name)));c=await Promise.all(n);break}}}var l;return void 0!==a&&(l=c,a.dispatchEvent(new window.CustomEvent(Of.CreditEstimateComplete,kf(l)))),c}const Tf=/^[\p{L}\p{N}_][\p{L}\p{N}_\s]*[\p{L}\p{N}_]$/u;function xf(){return`CLIENT_${(new Date).getTime()}${Math.floor(1e6*Math.random())}`}const Rf={Tool:"tool",RasterFunction:"rft",WebTool:"webTool"},If="estimateCreditsCurrentParameters",Ff=r.proxyCustomElement(class extends r.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisToolCreditsValidationFailure=r.createEvent(this,"analysisToolCreditsValidationFailure",7),this.estimateCredits=async()=>{this.onCreditsPopoverClose();const e=this.toolElement,t=await(e?.validateTool()),n=await(this.toolSettingsElement?.validateSettings());if(!1===t?.valid||!1===n?.valid){const e=Array.from(new Set([...t?.errorKeys,...n?.errorKeys]));e?.forEach(((t,n)=>{t===r.DEFAULT_ERROR_KEY&&(e[n]=r.DEFAULT_CREDIT_ERROR_KEY)}));const o={valid:!1,errorKeys:e};return this.analysisToolCreditsValidationFailure.emit(o),void(this.errorMessage=this.strings.creditsEstimationFailed)}if(this.errorMessage=void 0,this.estimatingCredits=!0,this.isInformationMessage=!1,void 0!==this.toolJson){const t=r.getJobParams(this.toolJson,e?.toolData),n=r.calculateParameterValues(t),o=z.addContextToJobParams(n,this.toolName,e?.toolData),i=r.prepJobParamsForSubmission({jobParams:o,toolData:e?.toolData??{},toolUIJson:e?.toolUIJson?.UIparameters??[],toolName:this.toolName});let a={valid:!0,errorKeys:[]};try{await Cf({toolName:this.toolName,portal:this.portal,jobParams:i,analysisEngine:this.analysisEngine,toolElement:this.hostElement})}catch(e){this.errorMessage=this.strings.creditsEstimationFailed,a={valid:!1,errorKeys:[If]}}this.analysisToolCreditsValidationFailure.emit(a),this.estimatingCredits=!1,this.creditsEstimated=!0}},this.estimateRFxCredits=async()=>{this.onCreditsPopoverClose();const e=this.toolElement,t=await(e?.validateRFx()),n=await(this.toolSettingsElement?.validateSettings()),o=await(this.toolOutputElement?.validateRFxOutput());if(!1===n?.valid||!1===t?.valid||!1===o?.valid){const e=Array.from(new Set([...n?.errorKeys,...t?.errorStrings,...o?.errorKeys]));e?.forEach(((t,n)=>{t===r.DEFAULT_ERROR_KEY&&(e[n]=r.DEFAULT_CREDIT_ERROR_KEY)}));const i={valid:!1,errorKeys:e};return this.analysisToolCreditsValidationFailure.emit(i),void(this.errorMessage=this.strings.creditsEstimationFailed)}this.errorMessage=void 0,this.estimatingCredits=!0,this.isInformationMessage=!1;const i={rasterFunction:await(e?.getUpdatedRFTWithValues()),outputName:await(this.toolOutputElement?.getOutputParameters())};if(void 0!==i){const e=z.addContextToJobParams(i,this.toolName,void 0),t={};Object.keys(e).forEach((r=>t[r]=JSON.stringify(e[r])));let r={valid:!0,errorKeys:[]};try{await Cf({toolName:"GenerateRaster",portal:this.portal,jobParams:t,analysisEngine:this.analysisEngine,toolElement:this.hostElement})}catch(e){this.errorMessage=this.strings.creditsEstimationFailed,r={valid:!1,errorKeys:[If]}}this.analysisToolCreditsValidationFailure.emit(r),this.estimatingCredits=!1,this.creditsEstimated=!0}},this.createCreditsPopover=()=>{void 0===this.creditsPopover&&(this.creditsPopover=document.createElement("analysis-tool-credits-popover"),this.creditsPopover.addEventListener("creditsPopoverClose",this.onCreditsPopoverClose)),this.creditsPopover.referenceElement=this.popoverActionElement,this.creditsPopover.numberOfInputFeatures=this.numberOfInputFeatures,this.creditsPopover.creditsPerFeature=this.creditsPerFeature,this.creditsPopover.estimatedCredits=this.estimatedCredits,this.creditsPopover.creditsRemaining=this.creditsRemaining,!1===document.body.contains(this.creditsPopover)&&(document.body.appendChild(this.creditsPopover),this.creditsPopover.open=!0)},this.onCreditsPopoverClose=()=>{void 0!==this.creditsPopover&&(this.creditsPopover.open=!1,this.creditsPopover.remove())},this.renderErrorMessage=()=>r.h("calcite-input-message",{status:this.isInformationMessage?r.UIInputStatus.IDLE:r.UIInputStatus.INVALID,icon:this.isInformationMessage?"information":"exclamationMarkTriangle",hidden:void 0===this.errorMessage},this.errorMessage),this.numberOfInputFeatures=void 0,this.creditsPerFeature=void 0,this.estimatedCredits=void 0,this.creditsRemaining=void 0,this.estimatingCredits=!1,this.creditsEstimated=!1,this.errorMessage=void 0,this.isInformationMessage=!1,this.analysisEngine=void 0,this.toolJson=void 0,this.toolName=void 0,this.toolSettingsElement=void 0,this.toolElement=void 0,this.portal=void 0,this.analysisType=void 0,this.toolOutputElement=void 0}disconnectedCallback(){this.onCreditsPopoverClose()}async componentWillLoad(){({strings:this.strings,dir:this.dir}=await r.fetchComponentLocaleStrings(this.hostElement,r.getAssetPath(".")))}async clearCreditsEstimation(){return this.numberOfInputFeatures=void 0,this.creditsPerFeature=void 0,this.estimatedCredits=void 0,this.creditsRemaining=void 0,this.errorMessage=void 0,this.estimatingCredits=!1,this.creditsEstimated=!1,this.isInformationMessage=!1,Promise.resolve()}onCreditEstimateComplete(e){if(this.creditsPerFeature=void 0,this.creditsRemaining=void 0,void 0!==e.detail&&e.detail.length>0){const t=e.detail[0].value;this.estimatedCredits=t.maximumCost??t.cost??t.credits,Af.find((e=>e.toolName===this.toolName&&e.analysisEngine===this.analysisEngine))&&(t.totalRecords=0,this.isInformationMessage=!0,this.errorMessage=this.strings.zeroCreditsMessage),this.numberOfInputFeatures=t.totalRecords}this.estimatingCredits=!1,this.creditsEstimated=!0}renderCreditsEstimated(){return this.creditsEstimated?r.h("div",null,r.h("div",{class:"estimated-credits"},r.h("div",null,this.strings.estimatedCredits),r.h("div",{class:"credits"},void 0===this.errorMessage&&!1===this.estimatingCredits&&r.h("calcite-button",{class:"info-button",ref:e=>{this.popoverActionElement=e},appearance:"outline","icon-start":"information",round:!0,disabled:this.estimatingCredits,onClick:this.createCreditsPopover},r.formatNumberToLocale(this.estimatedCredits)),r.h("calcite-action",{class:!0===this.estimatingCredits?"hide":"",onClick:this.analysisType===Rf.RasterFunction?this.estimateRFxCredits:this.estimateCredits,text:"refresh",appearance:"transparent",icon:"refresh"}),r.h("calcite-loader",{style:{display:!1===this.estimatingCredits?"none":void 0},label:this.strings.loader,class:"loader",inline:!0}))),r.h("div",{class:"error-message"},void 0!==this.errorMessage?this.renderErrorMessage():null)):null}render(){return r.h(r.Host,{class:{"analysis--rtl":"rtl"===this.dir}},r.h("div",{class:"credit-block"},!this.creditsEstimated&&r.h("calcite-button",{alignment:"center",round:!0,appearance:"transparent",onClick:this.analysisType===Rf.RasterFunction?this.estimateRFxCredits:this.estimateCredits,loading:this.estimatingCredits,class:"estimate-credit-button"},this.creditsEstimated?this.strings.estimatedCredits:this.strings.estimateCredits),this.renderCreditsEstimated()))}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get style(){return":host{display:flex;width:100%}.credit-block{display:flex;justify-content:center;width:100%;margin:0;background-color:var(--calcite-color-foreground-1)}.estimate-credit-button{padding:12px 0}.estimated-credits{width:100%;display:flex;justify-content:space-between;align-items:center}.credits{display:flex;align-items:center}.loader{padding:var(--analysis-quarter-spacing);margin-left:3.75rem;margin-right:0rem;margin-top:0.75rem}.error-message{padding-bottom:1rem}.hide{display:none}.info-button{margin-left:1rem;margin-right:0rem}:host(.analysis--rtl) .loader{margin-left:0rem;margin-right:3.75rem}:host(.analysis--rtl) .info-button{margin-left:0rem;margin-right:1rem}"}},[1,"analysis-tool-credits",{analysisEngine:[513,"analysis-engine"],toolJson:[16],toolName:[513,"tool-name"],toolSettingsElement:[16],toolElement:[16],portal:[16],analysisType:[1,"analysis-type"],toolOutputElement:[16],numberOfInputFeatures:[32],creditsPerFeature:[32],estimatedCredits:[32],creditsRemaining:[32],estimatingCredits:[32],creditsEstimated:[32],errorMessage:[32],isInformationMessage:[32],clearCreditsEstimation:[64]},[[0,"creditEstimateComplete","onCreditEstimateComplete"]]]);function Nf(){"undefined"!=typeof customElements&&["analysis-tool-credits","analysis-tool-credits-popover"].forEach((e=>{switch(e){case"analysis-tool-credits":customElements.get(e)||customElements.define(e,Ff);break;case"analysis-tool-credits-popover":customElements.get(e)||L.defineCustomElement()}}))}Nf(),t.AnalysisEngine={Standard:"standard",GeoAnalytics:"geoanalytics",Raster:"raster",Pipelines:"pipelines",Session:"session"},t.AnalysisToolCredits=Ff,t.AnalysisType=Rf,t.defineCustomElement=Nf,t.execute=async function(e){const{portal:t}=e,{jobParamsPayload:r,jobParams:n,toolUiParameters:o,toolName:i,analysisEngine:a,analysisType:s,resultParams:c,containerElement:l,gpMessages:u,webToolServerUrl:f,executionType:d,creditCheckOptions:h,webToolJSON:p}=e;let g=function(e){let t=!0;return t=!0!==wi(e?.orgId)&&(function(e){return e.role?.includes("admin")??!1}(e)||function(e){return e.role?.includes("publisher")??!1}(e)),t}(t.user);const m=Object.keys(r).some((e=>{const t=r[e];return"string"==typeof t&&t.includes("serviceProperties")})),y=function(e,t){const r=[];return e.forEach((e=>{if(e in t){const n=JSON.parse(t[e]),o=n?.serviceProperties?.name??n?.itemProperties?.title??void 0;void 0!==o&&r.push(o)}})),"esri_out_feature_service_name"in t&&"string"==typeof t.esri_out_feature_service_name&&r.push(t.esri_out_feature_service_name),r}(Object.keys(r).filter((e=>{const t=r[e];return"string"==typeof t&&(t.includes("serviceProperties")||t.includes("itemProperties"))})),r);if(!1===function(e){return e.every((e=>Tf.test(e)))}(y)&&await Ga(Ti),m){const e=y.map((e=>{const r=t.isPortal?function(e){return e.replace(/\s/g,"_")}(e):e;return async function(e){const{portal:{url:t,id:r},itemType:n}=e,{serviceName:o}=e,i=`${t}/sharing/rest/portals/${r}/isServiceNameAvailable?f=json`,a={query:{f:"json",name:o,type:n}};let s=!0;try{s=(await q.default(i,a)).data.available}catch(e){await Ga(Ai)}return s}({portal:t,serviceName:r,itemType:a!==cf.Raster||void 0!==o.resultType&&"FEATURE_LAYER"===o.resultType?"Feature Service":"Image Service"})}));g=!(await Promise.all(e)).some((e=>!1===e)),!1===g&&await Ga(Ci)}const{skipCreditChecks:b=!1,creditThreshold:v}=h??{};if(!1===b&&void 0===f&&(e.analysisEngine===cf.Standard||e.analysisEngine===cf.Raster)){const r=function(e){const t=function(e){const t="object"==typeof e&&null!==e,r=t&&"totalRecords"in e&&("maximumCost"in e||"cost"in e),n=t&&"credits"in e&&"functions"in e&&Array.isArray(e.functions)&&e.functions.every((e=>"object"==typeof e&&null!==e&&"name"in e&&"costFactor"in e&&"gigaPixels"in e));return t&&(r||n)}(e?.[0]?.value)?e[0].value:void 0,r=t?.maximumCost??t?.cost??t?.credits;return Number.isNaN(r)?void 0:r}(await Cf({toolName:e.toolName,portal:t,jobParams:e.jobParamsPayload,analysisEngine:e.analysisEngine,toolElement:e.containerElement}));g=function(e,t){let r=!0;return void 0!==t.sourceJSON.availableCredits&&void 0!==e&&(r=t.sourceJSON.availableCredits>e),r}(r,t.user),!1===g&&await Ga(Ei),g=function(e,t){return void 0===t||void 0===e||e<=t}(r,v),!1===g&&await Ga(Mi,{estimatedCredits:r,creditThreshold:v})}if(!0===g){const e=void 0===f?bf(a,t,"BatchGeocode"===i):f,h=`${e}/${i}?f=json`;if(d===sf)try{const e=await G.execute(h,n),t=e.results,r=J.default.fromJSON({jobId:xf(),jobStatus:"esriJobSucceeded",sourceUrl:f});r.messages=e.messages,Ef(l,{jobInfo:r,submissionData:{toolName:i,analysisEngine:a,analysisType:s,jobParams:n,toolUiParameters:o,webToolServerUrl:f}}),Mf(l,{results:t,jobInfo:r})}catch(e){const t=J.default.fromJSON({jobId:xf(),jobStatus:"esriJobFailed",sourceUrl:f,messages:{type:"error",description:`${e.message} ${e?.details?.messages.toString()}`.trim()}});Ef(l,{jobInfo:t,submissionData:{toolName:i,analysisEngine:a,analysisType:s,jobParams:n,toolUiParameters:o,webToolServerUrl:f}})}else{const t=await G.submitJob(h,r);Ef(l,{jobInfo:t,submissionData:{toolName:i,analysisEngine:a,analysisType:s,jobParams:n,toolUiParameters:o,webToolServerUrl:f}});const d={interval:1500,statusCallback:e=>{Ef(l,{jobInfo:e})}};try{let r;if(await t.waitForJobCompletion(d),!0===c.includes("processInfo"))try{r=function(e,t={}){let r="";return e.forEach((e=>{const n=JSON.parse(e),{message:o,messageCode:i,params:a,style:s}=n;if(Array.isArray(o)){const e={};let n=s;o.forEach(((r,o)=>{const s=`${i}_${o}`;n=n.replace("></",">${"+s+"}</");let c=void 0!==t[s]?t[s]:r;c=Pi(c,a),c=function(e){return e.replace(/[<>]/g,tf)}(c),e[s]=`${c}`})),r+=Pi(n,e)}else{let e=void 0!==t[i]?t[i]:o;e=Pi(e,a);const n=s.indexOf("</");r+=`${s.substring(0,n)}${e}${s.substring(n)}`}})),r}((await t.fetchResultData("processInfo")).value,u);const e=c.indexOf("processInfo");c.splice(e,1)}catch{}const n=p?.serviceInfo?.resultMapServerName??void 0;if(!1===wi(n)){const r=`${e.replace("GPServer","MapServer")}/jobs/${t.jobId}`,o=V.default.fromJSON({dataType:"GPFeatureRecordSetLayer",paramName:n,value:{url:r}});Mf(l,{results:[o],jobInfo:t})}else{const e=c.map((e=>t.fetchResultData(e))),n=(await Promise.allSettled(e)).filter((e=>"fulfilled"===e.status)).map((e=>e.value));(async function(e,t){const r=[];e.forEach((e=>{if("object"==typeof e.value&&"itemId"in e.value&&!wi(e.value.itemId)&&void 0!==t){const n=e.value.itemId;r.push(async function(e,t){const r=new Y.default({id:e}),n=await r.load();let o=Object.assign(n,t);return o=await o.update(),o}(n,{description:t}))}})),await Promise.all(r)})(n,r),Mf(l,{results:n,jobInfo:t,webToolJSON:p})}}catch(e){Ef(l,{jobInfo:t})}}}},t.getTravelModes=jf,t.getWebToolInfo=Pf}));