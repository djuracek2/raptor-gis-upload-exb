define(["exports","./index-14ccc47c","./index2-efc362f1","./utils-0d0e8208","./analysis-label2-ccfc7e91","./analysis-multiple-input2-cfc63a81"],(function(e,i,t,a,s,l){"use strict";const n=i.proxyCustomElement(class extends i.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisNumberInputChange=i.createEvent(this,"analysisNumberInputChange",7),this.analysisHelpClick=i.createEvent(this,"analysisHelpClick",7),this.renderSingleInput=()=>void 0===this.choiceList?this.renderInput():this.renderCombobox(),this.renderInput=()=>i.h("calcite-input",{type:"number",value:t.sanitizeNumber(this.value),placeholder:this.placeholderText??this.strings.inputPlaceholderText,step:this.isFloatType?"any":1,readOnly:this.readOnly,required:this.required||void 0,min:this.min,max:this.max,scale:this.scale??a.UIDefaults.Scale,groupSeparator:!0,onCalciteInputInput:this.inputChanged}),this.renderCombobox=()=>{const e=this.choiceList?.map((e=>this.buildComboBoxItem(t.sanitizeNumber(e),e===this.value)));return i.h("calcite-combobox",{scale:this.scale??a.UIDefaults.Scale,label:this.label??this.strings.comboboxLabel,selectionMode:"single",placeholder:this.placeholderText??this.strings.comboboxMultiPlaceholderText,clearDisabled:!0},e)},this.buildComboBoxItem=(e,t)=>i.h("calcite-combobox-item",{key:e,value:e,textLabel:e,selected:t,onCalciteComboboxItemChange:this.comboboxItemChanged}),this.renderAnalysisMultiInput=()=>{const e=this.value?.map((e=>t.sanitizeNumber(e))),a=this.choiceList?.map((e=>t.sanitizeNumber(e))),{isFloatType:s,min:l,max:n,excludeMinValue:o,excludeMaxValue:r,minValues:u,maxValues:h}=this,m={isFloatType:s,min:l,max:n,excludeMinValue:o,excludeMaxValue:r,minValues:u,maxValues:h};return i.h("analysis-multiple-input",{dataType:"number",value:e,choiceList:a,placeholderText:this.placeholderText,required:this.required,validationOptions:m,validationParams:this.validationParams,ref:e=>{this.multiInputElement=e},onAnalysisMultipleInputChange:e=>{this.value=e.detail.map((e=>t.parseNumber(e))),this.analysisNumberInputChange.emit()}})},this.inputChanged=e=>{if(null!==e.target){const i=e?.target.value;this.value=t.parseNumber(i),this.analysisNumberInputChange.emit(),this.validate()}},this.comboboxItemChanged=e=>{if(this.isMultiSelect)return;const i=e.target,a=i?.value,s=t.parseNumber(a);this.value!==s&&i?.selected&&(this.value=s,this.analysisNumberInputChange.emit(),this.validate())},this.errorMessage=void 0,this.value=void 0,this.scale=void 0,this.label=void 0,this.numberType=void 0,this.selectionMode=void 0,this.readOnly=!1,this.choiceList=void 0,this.required=void 0,this.validationParams=void 0,this.min=void 0,this.excludeMinValue=void 0,this.max=void 0,this.maxValues=void 0,this.minValues=void 0,this.excludeMaxValue=void 0,this.placeholderText=void 0,this.maxOfValues=void 0,this.hideHelp=!1}onValueChange(){this.maxOfValues=Array.isArray(this.value)?Math.max(...this.value):this.value}onRequiredChange(){this.validate()}async onValidationChange(){void 0!==this.multiInputElement&&(this.multiInputElement.validationOptions=this.formatValidationOptions()),this.errorMessage=void 0,!1===t.isEmptyDataItem(this.value)&&await this.validate()}async componentWillLoad(){({strings:this.strings}=await t.fetchComponentLocaleStrings(this.hostElement,i.getAssetPath("."))),t.isEmptyDataItem(this.value)||this.onValueChange()}get isFloatType(){return void 0===this.numberType||"float"===this.numberType}get isMultiSelect(){return"multi"===this.selectionMode}get formatOptions(){return{min:`${this.min??Number.MIN_SAFE_INTEGER}`,max:`${this.max??Number.MAX_SAFE_INTEGER}`}}render(){const e=void 0!==this.errorMessage,s=t.formatValidationParamsMessage(this.validationParams),l=!1===t.isEmptyDataItem(s)||!0===e,n=e?t.UIInputStatus.INVALID:t.getUIInputStatusFromMessageType(this.validationParams?.type);return i.h(i.Host,null,i.h("calcite-label",{class:"label",scale:this.scale??a.UIDefaults.Scale},""!==this.label?i.h("analysis-label",{label:this.label,required:this.required,onAnalysisLabelHelpActionClick:()=>this.analysisHelpClick.emit(),hideHelp:this.hideHelp}):null,this.isMultiSelect?this.renderAnalysisMultiInput():this.renderSingleInput(),i.h("calcite-input-message",{status:n,scale:a.UIDefaults.Scale,hidden:!l||this.isMultiSelect,icon:"exclamationMarkTriangle"},this.errorMessage??s)))}async checkValidity(){await this.validate();const e=void 0===this.errorMessage||""===this.errorMessage;return Promise.resolve(e)}async validate(){if(this.isMultiSelect)void 0!==this.multiInputElement&&(this.multiInputElement.errorMessage=void 0),await(this.multiInputElement?.checkValidity()),this.errorMessage=this.multiInputElement?.errorMessage;else{const e=this.value,i=a.validateNumber(e,this.formatValidationOptions()),s=void 0!==i?t.formatMessage(this.strings[i],this.formatOptions):void 0;this.errorMessage=s}}formatValidationOptions(){return{required:this.required,isFloatType:this.isFloatType,excludeMaxValue:this.excludeMaxValue,excludeMinValue:this.excludeMinValue,max:this.max??Number.MAX_SAFE_INTEGER,min:this.min??Number.MIN_SAFE_INTEGER}}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get watchers(){return{value:["onValueChange"],required:["onRequiredChange"],min:["onValidationChange"],max:["onValidationChange"],excludeMaxValue:["onValidationChange"],excludeMinValue:["onValidationChange"],numberType:["onValidationChange"]}}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{display:flex;width:var(--analysis-component-default-width);--calcite-color-border-input:var(--analysis-ui-border-input)}:host([hidden]){display:none}.label{width:var(--analysis-component-default-width)}"}},[1,"analysis-number-input",{value:[1026],scale:[513],label:[513],numberType:[513,"number-type"],selectionMode:[513,"selection-mode"],readOnly:[516,"read-only"],choiceList:[16],required:[516],validationParams:[16],min:[514],excludeMinValue:[516,"exclude-min-value"],max:[514],maxValues:[514,"max-values"],minValues:[514,"min-values"],excludeMaxValue:[516,"exclude-max-value"],placeholderText:[513,"placeholder-text"],maxOfValues:[2,"max-of-values"],hideHelp:[516,"hide-help"],errorMessage:[32],checkValidity:[64]},void 0,{value:["onValueChange"],required:["onRequiredChange"],min:["onValidationChange"],max:["onValidationChange"],excludeMaxValue:["onValidationChange"],excludeMinValue:["onValidationChange"],numberType:["onValidationChange"]}]);function o(){"undefined"!=typeof customElements&&["analysis-number-input","analysis-label","analysis-multiple-input"].forEach((e=>{switch(e){case"analysis-number-input":customElements.get(e)||customElements.define(e,n);break;case"analysis-label":customElements.get(e)||s.defineCustomElement();break;case"analysis-multiple-input":customElements.get(e)||l.defineCustomElement()}}))}o(),e.AnalysisNumberInput=n,e.defineCustomElement=o}));